var Dn=Object.defineProperty;var Cn=(t,r,e)=>r in t?Dn(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var g=(t,r,e)=>Cn(t,typeof r!="symbol"?r+"":r,e);import{R as ee,x as In,_ as Mn,u as d,k as H,n as Sn,d as _n,e as Br,t as be,o as oe,p as Pn,q as Fn,r as On,c as Bn,s as Mt,v as Nr,a as Nn,g as Rn,j as Rr,y as $r,f as $n,l as or,i as Ln,w as ir,h as jn,D as zn,F as Yn,T as Qe,z as Re,B as Lr,C as ar,A as Hn,m as Wn}from"./protectedTokens.4Xsm3FXx.js";var me=(t=>(t.StreamContextItem="stream-context-item",t.SaveItems="save-items",t.ComponentRegistered="component-registered",t.ActivateThemes="themes",t.ThemesActivated="themes-activated",t.SetComponentData="set-component-data",t))(me||{}),St=(t=>(t.Component="component",t))(St||{});const Gn=(t,r=50)=>t.length<=r?t:t.substring(0,r)+"...",Qn=t=>{if(typeof t!="string")return!1;try{const r=JSON.parse(t),e=Object.prototype.toString.call(r);return e==="[object Object]"||e==="[object Array]"}catch{return!1}},qn=250,Kn="org.standardnotes.sn";class Un{constructor(){g(this,"contentWindow");g(this,"component",{activeThemes:[],acceptsThemes:!0});g(this,"sentMessages",[]);g(this,"messageQueue",[]);g(this,"lastStreamedItem");g(this,"pendingSaveItems");g(this,"pendingSaveTimeout");g(this,"pendingSaveParams");g(this,"coallesedSavingDelay");g(this,"messageHandler");g(this,"onThemesChangeCallback");g(this,"subscriptions",[]);g(this,"generateNotePreview",!0)}initialize(r={}){if(this.contentWindow)throw"Cannot initialize mediator more than once";this.contentWindow=window,this.coallesedSavingDelay=typeof r.debounceSave<"u"?r.debounceSave:qn,this.registerMessageHandler(),this.postMessage(me.StreamContextItem,{},e=>{const{item:n}=e;(!this.lastStreamedItem||this.lastStreamedItem.uuid!==n.uuid)&&this.pendingSaveTimeout&&(clearTimeout(this.pendingSaveTimeout),this.performSavingOfItems(this.pendingSaveParams),this.pendingSaveTimeout=void 0,this.pendingSaveParams=void 0),this.lastStreamedItem=n,this.lastStreamedItem.isMetadataUpdate||this.subscriptions.forEach(o=>{o(this.text,this.meta)})})}subscribe(r){return this.subscriptions.push(r),this.lastStreamedItem&&setTimeout(()=>{r(this.text,this.meta)}),()=>{const e=this.subscriptions.indexOf(r);e>=0&&this.subscriptions.splice(e,1)}}get text(){var r,e;return this.checkNoteExists(),((e=(r=this.lastStreamedItem)==null?void 0:r.content)==null?void 0:e.text)||""}get meta(){var r;return this.checkNoteExists(),(r=this.lastStreamedItem)!=null&&r.content?this.lastStreamedItem.content.appData[this.lastStreamedItem.content.editorIdentifier]:{}}get extensionMeta(){return this.component.data}get locked(){var r,e;return this.checkNoteExists(),(e=(r=this.lastStreamedItem)==null?void 0:r.content)==null?void 0:e.appData[Kn].locked}get preview(){var r,e;return this.checkNoteExists(),(e=(r=this.lastStreamedItem)==null?void 0:r.content)==null?void 0:e.preview_plain}set text(r){this.checkNoteExists(),this.lastStreamedItem.content.text=r,this.saveNote(this.lastStreamedItem)}set preview(r){this.checkNoteExists(),this.generateNotePreview=!1,this.lastStreamedItem.content.preview_plain=r}set meta(r){this.checkNoteExists(),this.lastStreamedItem.content.appData[this.lastStreamedItem.content.editorIdentifier]=r,this.saveNote(this.lastStreamedItem)}set extensionMeta(r){this.component.data=r,this.postMessage(me.SetComponentData,{componentData:r})}registerMessageHandler(){this.messageHandler=r=>{if(document.referrer){const s=new URL(document.referrer).origin,o=new URL(r.origin).origin;if(s!==o)return}const{data:e}=r,n=Qn(e)?JSON.parse(e):e;n&&this.handleMessage(n)},this.contentWindow.document.addEventListener("message",this.messageHandler,!1),this.contentWindow.addEventListener("message",this.messageHandler,!1)}handleMessage(r){var e,n;switch(r.action){case me.ComponentRegistered:this.component.sessionKey=r.sessionKey,r.componentData&&(this.component.data=r.componentData),this.onReady(r.data);break;case me.ActivateThemes:this.activateThemes(r.data.themes);break;default:{if(!r.original)return;const s=(e=this.sentMessages)==null?void 0:e.filter(o=>{var i;return o.messageId===((i=r.original)==null?void 0:i.messageId)})[0];if(!s)return;(n=s==null?void 0:s.callback)==null||n.call(s,r.data);break}}}onReady(r){this.component.environment=r.environment,this.component.platform=r.platform,this.component.uuid=r.uuid;for(const e of this.messageQueue)this.postMessage(e.action,e.data,e.callback);this.messageQueue=[],this.activateThemes(r.activeThemeUrls||[]),this.postMessage(me.ThemesActivated,{})}get isRunningInDesktopApplication(){return this.component.environment==="desktop"}get isRunningInMobileApplication(){return this.component.environment==="mobile"}get isRunningInBrowser(){return this.component.environment==="web"}postMessage(r,e,n){if(!this.component.sessionKey){this.messageQueue.push({action:r,data:e,api:St.Component,callback:n});return}const s={action:r,data:e,messageId:this.generateUUID(),sessionKey:this.component.sessionKey,api:St.Component},o=JSON.parse(JSON.stringify(s));o.callback=n,this.sentMessages.push(o);let i;this.isRunningInMobileApplication?i=JSON.stringify(s):i=s,this.contentWindow.parent.postMessage(i,"*")}activateThemes(r=[]){if(!this.component.acceptsThemes)return;const{activeThemes:e}=this.component;if(e&&e.sort().toString()==r.sort().toString())return;let n=r;const s=[];for(const o of e)r.includes(o)?n=n.filter(i=>i!==o):s.push(o);console.log(s);for(const o of s)this.deactivateTheme(o);this.component.activeThemes=r,console.log(n);for(const o of n){if(!o)continue;const i=o.endsWith("/org.standardnotes.theme-focus/index.css")?"https://app.standardnotes.com/components/assets/org.standardnotes.theme-focus/index.css":o,a=this.contentWindow.document.createElement("link");a.id=btoa(o),a.href=i,a.type="text/css",a.rel="stylesheet",a.media="screen,print",a.className="custom-theme",this.contentWindow.document.getElementsByTagName("head")[0].appendChild(a)}this.onThemesChangeCallback&&this.onThemesChangeCallback()}themeElementForUrl(r){return Array.from(this.contentWindow.document.getElementsByClassName("custom-theme")).slice().find(n=>n.id==btoa(r))}deactivateTheme(r){const e=this.themeElementForUrl(r);e&&e.parentNode&&(e.setAttribute("disabled","true"),e.parentNode.removeChild(e))}generateUUID(){return crypto.randomUUID()}get platform(){return this.component.platform}get environment(){return this.component.environment}performSavingOfItems({items:r,callback:e}){this.generateNotePreview&&(r[0].content.preview_plain=Gn(r[0].content.text));const n=[];for(const s of r)n.push(this.jsonObjectForItem(s));this.postMessage(me.SaveItems,{items:n},()=>{e==null||e()})}saveNote(r,e){const n=[r];if(this.pendingSaveItems||(this.pendingSaveItems=[]),this.coallesedSavingDelay){this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);const s=n.map(i=>i.uuid),o=this.pendingSaveItems.filter(i=>!s.includes(i.uuid));this.pendingSaveItems=o.concat(n),this.pendingSaveParams={items:this.pendingSaveItems,callback:e},this.pendingSaveTimeout=setTimeout(()=>{this.performSavingOfItems(this.pendingSaveParams),this.pendingSaveItems=[],this.pendingSaveTimeout=void 0,this.pendingSaveParams=null},this.coallesedSavingDelay)}else this.performSavingOfItems({items:n,callback:e})}jsonObjectForItem(r){const e=Object.assign({},r);return e.children=null,e.parent=null,e}checkNoteExists(){if(!this.lastStreamedItem)throw"Trying to interact with note before it is received from Standard Notes. Use subscribe function."}}const ne=new Un;var G=function(){return G=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},G.apply(this,arguments)};function $e(t,r,e){if(e||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))}var O="-ms-",Ne="-moz-",F="-webkit-",jr="comm",lt="rule",qt="decl",Vn="@import",zr="@keyframes",Xn="@layer",Yr=Math.abs,Kt=String.fromCharCode,_t=Object.assign;function Zn(t,r){return W(t,0)^45?(((r<<2^W(t,0))<<2^W(t,1))<<2^W(t,2))<<2^W(t,3):0}function Hr(t){return t.trim()}function se(t,r){return(t=r.exec(t))?t[0]:t}function M(t,r,e){return t.replace(r,e)}function Ze(t,r,e){return t.indexOf(r,e)}function W(t,r){return t.charCodeAt(r)|0}function Te(t,r,e){return t.slice(r,e)}function X(t){return t.length}function Wr(t){return t.length}function Be(t,r){return r.push(t),t}function Jn(t,r){return t.map(r).join("")}function cr(t,r){return t.filter(function(e){return!se(e,r)})}var dt=1,De=1,Gr=0,U=0,z=0,Se="";function ht(t,r,e,n,s,o,i,a){return{value:t,root:r,parent:e,type:n,props:s,children:o,line:dt,column:De,length:i,return:"",siblings:a}}function he(t,r){return _t(ht("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function ve(t){for(;t.root;)t=he(t.root,{children:[t]});Be(t,t.siblings)}function es(){return z}function ts(){return z=U>0?W(Se,--U):0,De--,z===10&&(De=1,dt--),z}function V(){return z=U<Gr?W(Se,U++):0,De++,z===10&&(De=1,dt++),z}function xe(){return W(Se,U)}function Je(){return U}function ft(t,r){return Te(Se,t,r)}function Pt(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rs(t){return dt=De=1,Gr=X(Se=t),U=0,[]}function ns(t){return Se="",t}function bt(t){return Hr(ft(U-1,Ft(t===91?t+2:t===40?t+1:t)))}function ss(t){for(;(z=xe())&&z<33;)V();return Pt(t)>2||Pt(z)>3?"":" "}function os(t,r){for(;--r&&V()&&!(z<48||z>102||z>57&&z<65||z>70&&z<97););return ft(t,Je()+(r<6&&xe()==32&&V()==32))}function Ft(t){for(;V();)switch(z){case t:return U;case 34:case 39:t!==34&&t!==39&&Ft(z);break;case 40:t===41&&Ft(t);break;case 92:V();break}return U}function is(t,r){for(;V()&&t+z!==57;)if(t+z===84&&xe()===47)break;return"/*"+ft(r,U-1)+"*"+Kt(t===47?t:V())}function as(t){for(;!Pt(xe());)V();return ft(t,U)}function cs(t){return ns(et("",null,null,null,[""],t=rs(t),0,[0],t))}function et(t,r,e,n,s,o,i,a,c){for(var l=0,f=0,u=i,h=0,p=0,m=0,x=1,_=1,S=1,C=0,I="",y=s,k=o,T=n,b=I;_;)switch(m=C,C=V()){case 40:if(m!=108&&W(b,u-1)==58){Ze(b+=M(bt(C),"&","&\f"),"&\f",Yr(l?a[l-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:b+=bt(C);break;case 9:case 10:case 13:case 32:b+=ss(m);break;case 92:b+=os(Je()-1,7);continue;case 47:switch(xe()){case 42:case 47:Be(us(is(V(),Je()),r,e,c),c);break;default:b+="/"}break;case 123*x:a[l++]=X(b)*S;case 125*x:case 59:case 0:switch(C){case 0:case 125:_=0;case 59+f:S==-1&&(b=M(b,/\f/g,"")),p>0&&X(b)-u&&Be(p>32?lr(b+";",n,e,u-1,c):lr(M(b," ","")+";",n,e,u-2,c),c);break;case 59:b+=";";default:if(Be(T=ur(b,r,e,l,f,s,a,I,y=[],k=[],u,o),o),C===123)if(f===0)et(b,r,T,T,y,o,u,a,k);else switch(h===99&&W(b,3)===110?100:h){case 100:case 108:case 109:case 115:et(t,T,T,n&&Be(ur(t,T,T,0,0,s,a,I,s,y=[],u,k),k),s,k,u,a,n?y:k);break;default:et(b,T,T,T,[""],k,0,a,k)}}l=f=p=0,x=S=1,I=b="",u=i;break;case 58:u=1+X(b),p=m;default:if(x<1){if(C==123)--x;else if(C==125&&x++==0&&ts()==125)continue}switch(b+=Kt(C),C*x){case 38:S=f>0?1:(b+="\f",-1);break;case 44:a[l++]=(X(b)-1)*S,S=1;break;case 64:xe()===45&&(b+=bt(V())),h=xe(),f=u=X(I=b+=as(Je())),C++;break;case 45:m===45&&X(b)==2&&(x=0)}}return o}function ur(t,r,e,n,s,o,i,a,c,l,f,u){for(var h=s-1,p=s===0?o:[""],m=Wr(p),x=0,_=0,S=0;x<n;++x)for(var C=0,I=Te(t,h+1,h=Yr(_=i[x])),y=t;C<m;++C)(y=Hr(_>0?p[C]+" "+I:M(I,/&\f/g,p[C])))&&(c[S++]=y);return ht(t,r,e,s===0?lt:a,c,l,f,u)}function us(t,r,e,n){return ht(t,r,e,jr,Kt(es()),Te(t,2,-2),0,n)}function lr(t,r,e,n,s){return ht(t,r,e,qt,Te(t,0,n),Te(t,n+1,-1),n,s)}function Qr(t,r,e){switch(Zn(t,r)){case 5103:return F+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+t+t;case 4789:return Ne+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return F+t+Ne+t+O+t+t;case 5936:switch(W(t,r+11)){case 114:return F+t+O+M(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return F+t+O+M(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return F+t+O+M(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return F+t+O+t+t;case 6165:return F+t+O+"flex-"+t+t;case 5187:return F+t+M(t,/(\w+).+(:[^]+)/,F+"box-$1$2"+O+"flex-$1$2")+t;case 5443:return F+t+O+"flex-item-"+M(t,/flex-|-self/g,"")+(se(t,/flex-|baseline/)?"":O+"grid-row-"+M(t,/flex-|-self/g,""))+t;case 4675:return F+t+O+"flex-line-pack"+M(t,/align-content|flex-|-self/g,"")+t;case 5548:return F+t+O+M(t,"shrink","negative")+t;case 5292:return F+t+O+M(t,"basis","preferred-size")+t;case 6060:return F+"box-"+M(t,"-grow","")+F+t+O+M(t,"grow","positive")+t;case 4554:return F+M(t,/([^-])(transform)/g,"$1"+F+"$2")+t;case 6187:return M(M(M(t,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),t,"")+t;case 5495:case 3959:return M(t,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return M(M(t,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+O+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+t+t;case 4200:if(!se(t,/flex-|baseline/))return O+"grid-column-align"+Te(t,r)+t;break;case 2592:case 3360:return O+M(t,"template-","")+t;case 4384:case 3616:return e&&e.some(function(n,s){return r=s,se(n.props,/grid-\w+-end/)})?~Ze(t+(e=e[r].value),"span",0)?t:O+M(t,"-start","")+t+O+"grid-row-span:"+(~Ze(e,"span",0)?se(e,/\d+/):+se(e,/\d+/)-+se(t,/\d+/))+";":O+M(t,"-start","")+t;case 4896:case 4128:return e&&e.some(function(n){return se(n.props,/grid-\w+-start/)})?t:O+M(M(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return M(t,/(.+)-inline(.+)/,F+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(X(t)-1-r>6)switch(W(t,r+1)){case 109:if(W(t,r+4)!==45)break;case 102:return M(t,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+Ne+(W(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Ze(t,"stretch",0)?Qr(M(t,"stretch","fill-available"),r,e)+t:t}break;case 5152:case 5920:return M(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,o,i,a,c,l){return O+s+":"+o+l+(i?O+s+"-span:"+(a?c:+c-+o)+l:"")+t});case 4949:if(W(t,r+6)===121)return M(t,":",":"+F)+t;break;case 6444:switch(W(t,W(t,14)===45?18:11)){case 120:return M(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+F+(W(t,14)===45?"inline-":"")+"box$3$1"+F+"$2$3$1"+O+"$2box$3")+t;case 100:return M(t,":",":"+O)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return M(t,"scroll-","scroll-snap-")+t}return t}function nt(t,r){for(var e="",n=0;n<t.length;n++)e+=r(t[n],n,t,r)||"";return e}function ls(t,r,e,n){switch(t.type){case Xn:if(t.children.length)break;case Vn:case qt:return t.return=t.return||t.value;case jr:return"";case zr:return t.return=t.value+"{"+nt(t.children,n)+"}";case lt:if(!X(t.value=t.props.join(",")))return""}return X(e=nt(t.children,n))?t.return=t.value+"{"+e+"}":""}function ds(t){var r=Wr(t);return function(e,n,s,o){for(var i="",a=0;a<r;a++)i+=t[a](e,n,s,o)||"";return i}}function hs(t){return function(r){r.root||(r=r.return)&&t(r)}}function fs(t,r,e,n){if(t.length>-1&&!t.return)switch(t.type){case qt:t.return=Qr(t.value,t.length,e);return;case zr:return nt([he(t,{value:M(t.value,"@","@"+F)})],n);case lt:if(t.length)return Jn(e=t.props,function(s){switch(se(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ve(he(t,{props:[M(s,/:(read-\w+)/,":"+Ne+"$1")]})),ve(he(t,{props:[s]})),_t(t,{props:cr(e,n)});break;case"::placeholder":ve(he(t,{props:[M(s,/:(plac\w+)/,":"+F+"input-$1")]})),ve(he(t,{props:[M(s,/:(plac\w+)/,":"+Ne+"$1")]})),ve(he(t,{props:[M(s,/:(plac\w+)/,O+"input-$1")]})),ve(he(t,{props:[s]})),_t(t,{props:cr(e,n)});break}return""})}}var ps={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Q={},Ce=typeof process<"u"&&Q!==void 0&&(Q.REACT_APP_SC_ATTR||Q.SC_ATTR)||"data-styled",qr="active",Kr="data-styled-version",pt="6.1.16",Ut=`/*!sc*/
`,st=typeof window<"u"&&"HTMLElement"in window,gs=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Q!==void 0&&Q.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Q.REACT_APP_SC_DISABLE_SPEEDY!==""?Q.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Q.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Q!==void 0&&Q.SC_DISABLE_SPEEDY!==void 0&&Q.SC_DISABLE_SPEEDY!==""&&Q.SC_DISABLE_SPEEDY!=="false"&&Q.SC_DISABLE_SPEEDY),ms={},gt=Object.freeze([]),Ie=Object.freeze({});function Ur(t,r,e){return e===void 0&&(e=Ie),t.theme!==e.theme&&t.theme||r||e.theme}var Vr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ys=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ws=/(^-|-$)/g;function dr(t){return t.replace(ys,"-").replace(ws,"")}var xs=/(a)(d)/gi,qe=52,hr=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ot(t){var r,e="";for(r=Math.abs(t);r>qe;r=r/qe|0)e=hr(r%qe)+e;return(hr(r%qe)+e).replace(xs,"$1-$2")}var vt,Xr=5381,Ee=function(t,r){for(var e=r.length;e;)t=33*t^r.charCodeAt(--e);return t},Zr=function(t){return Ee(Xr,t)};function Jr(t){return Ot(Zr(t)>>>0)}function bs(t){return t.displayName||t.name||"Component"}function kt(t){return typeof t=="string"&&!0}var en=typeof Symbol=="function"&&Symbol.for,tn=en?Symbol.for("react.memo"):60115,vs=en?Symbol.for("react.forward_ref"):60112,ks={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},As={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},rn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Es=((vt={})[vs]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vt[tn]=rn,vt);function fr(t){return("type"in(r=t)&&r.type.$$typeof)===tn?rn:"$$typeof"in t?Es[t.$$typeof]:ks;var r}var Ts=Object.defineProperty,Ds=Object.getOwnPropertyNames,pr=Object.getOwnPropertySymbols,Cs=Object.getOwnPropertyDescriptor,Is=Object.getPrototypeOf,gr=Object.prototype;function nn(t,r,e){if(typeof r!="string"){if(gr){var n=Is(r);n&&n!==gr&&nn(t,n,e)}var s=Ds(r);pr&&(s=s.concat(pr(r)));for(var o=fr(t),i=fr(r),a=0;a<s.length;++a){var c=s[a];if(!(c in As||e&&e[c]||i&&c in i||o&&c in o)){var l=Cs(r,c);try{Ts(t,c,l)}catch{}}}}return t}function Me(t){return typeof t=="function"}function Vt(t){return typeof t=="object"&&"styledComponentId"in t}function we(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Bt(t,r){if(t.length===0)return"";for(var e=t[0],n=1;n<t.length;n++)e+=t[n];return e}function Le(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Nt(t,r,e){if(e===void 0&&(e=!1),!e&&!Le(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var n=0;n<r.length;n++)t[n]=Nt(t[n],r[n]);else if(Le(r))for(var n in r)t[n]=Nt(t[n],r[n]);return t}function Xt(t,r){Object.defineProperty(t,"toString",{value:r})}function je(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Ms=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var e=0,n=0;n<r;n++)e+=this.groupSizes[n];return e},t.prototype.insertRules=function(r,e){if(r>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,o=s;r>=o;)if((o<<=1)<0)throw je(16,"".concat(r));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=s;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(r+1),c=(i=0,e.length);i<c;i++)this.tag.insertRule(a,e[i])&&(this.groupSizes[r]++,a++)},t.prototype.clearGroup=function(r){if(r<this.length){var e=this.groupSizes[r],n=this.indexOfGroup(r),s=n+e;this.groupSizes[r]=0;for(var o=n;o<s;o++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(r){var e="";if(r>=this.length||this.groupSizes[r]===0)return e;for(var n=this.groupSizes[r],s=this.indexOfGroup(r),o=s+n,i=s;i<o;i++)e+="".concat(this.tag.getRule(i)).concat(Ut);return e},t}(),tt=new Map,ot=new Map,rt=1,Ke=function(t){if(tt.has(t))return tt.get(t);for(;ot.has(rt);)rt++;var r=rt++;return tt.set(t,r),ot.set(r,t),r},Ss=function(t,r){rt=r+1,tt.set(t,r),ot.set(r,t)},_s="style[".concat(Ce,"][").concat(Kr,'="').concat(pt,'"]'),Ps=new RegExp("^".concat(Ce,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Fs=function(t,r,e){for(var n,s=e.split(","),o=0,i=s.length;o<i;o++)(n=s[o])&&t.registerName(r,n)},Os=function(t,r){for(var e,n=((e=r.textContent)!==null&&e!==void 0?e:"").split(Ut),s=[],o=0,i=n.length;o<i;o++){var a=n[o].trim();if(a){var c=a.match(Ps);if(c){var l=0|parseInt(c[1],10),f=c[2];l!==0&&(Ss(f,l),Fs(t,f,c[3]),t.getTag().insertRules(l,s)),s.length=0}else s.push(a)}}},mr=function(t){for(var r=document.querySelectorAll(_s),e=0,n=r.length;e<n;e++){var s=r[e];s&&s.getAttribute(Ce)!==qr&&(Os(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function Bs(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sn=function(t){var r=document.head,e=t||r,n=document.createElement("style"),s=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Ce,"]")));return c[c.length-1]}(e),o=s!==void 0?s.nextSibling:null;n.setAttribute(Ce,qr),n.setAttribute(Kr,pt);var i=Bs();return i&&n.setAttribute("nonce",i),e.insertBefore(n,o),n},Ns=function(){function t(r){this.element=sn(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,s=0,o=n.length;s<o;s++){var i=n[s];if(i.ownerNode===e)return i}throw je(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,e){try{return this.sheet.insertRule(e,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var e=this.sheet.cssRules[r];return e&&e.cssText?e.cssText:""},t}(),Rs=function(){function t(r){this.element=sn(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,e){if(r<=this.length&&r>=0){var n=document.createTextNode(e);return this.element.insertBefore(n,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),$s=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,e){return r<=this.length&&(this.rules.splice(r,0,e),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),yr=st,Ls={isServer:!st,useCSSOMInjection:!gs},it=function(){function t(r,e,n){r===void 0&&(r=Ie),e===void 0&&(e={});var s=this;this.options=G(G({},Ls),r),this.gs=e,this.names=new Map(n),this.server=!!r.isServer,!this.server&&st&&yr&&(yr=!1,mr(this)),Xt(this,function(){return function(o){for(var i=o.getTag(),a=i.length,c="",l=function(u){var h=function(S){return ot.get(S)}(u);if(h===void 0)return"continue";var p=o.names.get(h),m=i.getGroup(u);if(p===void 0||!p.size||m.length===0)return"continue";var x="".concat(Ce,".g").concat(u,'[id="').concat(h,'"]'),_="";p!==void 0&&p.forEach(function(S){S.length>0&&(_+="".concat(S,","))}),c+="".concat(m).concat(x,'{content:"').concat(_,'"}').concat(Ut)},f=0;f<a;f++)l(f);return c}(s)})}return t.registerId=function(r){return Ke(r)},t.prototype.rehydrate=function(){!this.server&&st&&mr(this)},t.prototype.reconstructWithOptions=function(r,e){return e===void 0&&(e=!0),new t(G(G({},this.options),r),this.gs,e&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(e){var n=e.useCSSOMInjection,s=e.target;return e.isServer?new $s(s):n?new Ns(s):new Rs(s)}(this.options),new Ms(r)));var r},t.prototype.hasNameForId=function(r,e){return this.names.has(r)&&this.names.get(r).has(e)},t.prototype.registerName=function(r,e){if(Ke(r),this.names.has(r))this.names.get(r).add(e);else{var n=new Set;n.add(e),this.names.set(r,n)}},t.prototype.insertRules=function(r,e,n){this.registerName(r,e),this.getTag().insertRules(Ke(r),n)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(Ke(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),js=/&/g,zs=/^\s*\/\/.*$/gm;function on(t,r){return t.map(function(e){return e.type==="rule"&&(e.value="".concat(r," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(r," ")),e.props=e.props.map(function(n){return"".concat(r," ").concat(n)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=on(e.children,r)),e})}function Ys(t){var r,e,n,s=Ie,o=s.options,i=o===void 0?Ie:o,a=s.plugins,c=a===void 0?gt:a,l=function(h,p,m){return m.startsWith(e)&&m.endsWith(e)&&m.replaceAll(e,"").length>0?".".concat(r):h},f=c.slice();f.push(function(h){h.type===lt&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(js,e).replace(n,l))}),i.prefix&&f.push(fs),f.push(ls);var u=function(h,p,m,x){p===void 0&&(p=""),m===void 0&&(m=""),x===void 0&&(x="&"),r=x,e=p,n=new RegExp("\\".concat(e,"\\b"),"g");var _=h.replace(zs,""),S=cs(m||p?"".concat(m," ").concat(p," { ").concat(_," }"):_);i.namespace&&(S=on(S,i.namespace));var C=[];return nt(S,ds(f.concat(hs(function(I){return C.push(I)})))),C};return u.hash=c.length?c.reduce(function(h,p){return p.name||je(15),Ee(h,p.name)},Xr).toString():"",u}var Hs=new it,Rt=Ys(),an=ee.createContext({shouldForwardProp:void 0,styleSheet:Hs,stylis:Rt});an.Consumer;ee.createContext(void 0);function $t(){return In(an)}var Ws=function(){function t(r,e){var n=this;this.inject=function(s,o){o===void 0&&(o=Rt);var i=n.name+o.hash;s.hasNameForId(n.id,i)||s.insertRules(n.id,i,o(n.rules,i,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=e,Xt(this,function(){throw je(12,String(n.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=Rt),this.name+r.hash},t}(),Gs=function(t){return t>="A"&&t<="Z"};function wr(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(e===1&&n==="-"&&t[0]==="-")return t;Gs(n)?r+="-"+n.toLowerCase():r+=n}return r.startsWith("ms-")?"-"+r:r}var cn=function(t){return t==null||t===!1||t===""},un=function(t){var r,e,n=[];for(var s in t){var o=t[s];t.hasOwnProperty(s)&&!cn(o)&&(Array.isArray(o)&&o.isCss||Me(o)?n.push("".concat(wr(s),":"),o,";"):Le(o)?n.push.apply(n,$e($e(["".concat(s," {")],un(o),!1),["}"],!1)):n.push("".concat(wr(s),": ").concat((r=s,(e=o)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||r in ps||r.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return n};function fe(t,r,e,n){if(cn(t))return[];if(Vt(t))return[".".concat(t.styledComponentId)];if(Me(t)){if(!Me(o=t)||o.prototype&&o.prototype.isReactComponent||!r)return[t];var s=t(r);return fe(s,r,e,n)}var o;return t instanceof Ws?e?(t.inject(e,n),[t.getName(n)]):[t]:Le(t)?un(t):Array.isArray(t)?Array.prototype.concat.apply(gt,t.map(function(i){return fe(i,r,e,n)})):[t.toString()]}function ln(t){for(var r=0;r<t.length;r+=1){var e=t[r];if(Me(e)&&!Vt(e))return!1}return!0}var Qs=Zr(pt),qs=function(){function t(r,e,n){this.rules=r,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&ln(r),this.componentId=e,this.baseHash=Ee(Qs,e),this.baseStyle=n,it.registerId(e)}return t.prototype.generateAndInjectStyles=function(r,e,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,e,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))s=we(s,this.staticRulesId);else{var o=Bt(fe(this.rules,r,e,n)),i=Ot(Ee(this.baseHash,o)>>>0);if(!e.hasNameForId(this.componentId,i)){var a=n(o,".".concat(i),void 0,this.componentId);e.insertRules(this.componentId,i,a)}s=we(s,i),this.staticRulesId=i}else{for(var c=Ee(this.baseHash,n.hash),l="",f=0;f<this.rules.length;f++){var u=this.rules[f];if(typeof u=="string")l+=u;else if(u){var h=Bt(fe(u,r,e,n));c=Ee(c,h+f),l+=h}}if(l){var p=Ot(c>>>0);e.hasNameForId(this.componentId,p)||e.insertRules(this.componentId,p,n(l,".".concat(p),void 0,this.componentId)),s=we(s,p)}}return s},t}(),Zt=ee.createContext(void 0);Zt.Consumer;var At={};function Ks(t,r,e){var n=Vt(t),s=t,o=!kt(t),i=r.attrs,a=i===void 0?gt:i,c=r.componentId,l=c===void 0?function(y,k){var T=typeof y!="string"?"sc":dr(y);At[T]=(At[T]||0)+1;var b="".concat(T,"-").concat(Jr(pt+T+At[T]));return k?"".concat(k,"-").concat(b):b}(r.displayName,r.parentComponentId):c,f=r.displayName,u=f===void 0?function(y){return kt(y)?"styled.".concat(y):"Styled(".concat(bs(y),")")}(t):f,h=r.displayName&&r.componentId?"".concat(dr(r.displayName),"-").concat(r.componentId):r.componentId||l,p=n&&s.attrs?s.attrs.concat(a).filter(Boolean):a,m=r.shouldForwardProp;if(n&&s.shouldForwardProp){var x=s.shouldForwardProp;if(r.shouldForwardProp){var _=r.shouldForwardProp;m=function(y,k){return x(y,k)&&_(y,k)}}else m=x}var S=new qs(e,h,n?s.componentStyle:void 0);function C(y,k){return function(T,b,B){var $=T.attrs,K=T.componentStyle,ae=T.defaultProps,D=T.foldedComponentIds,w=T.styledComponentId,A=T.target,Y=ee.useContext(Zt),ze=$t(),yt=T.shouldForwardProp||ze.shouldForwardProp,nr=Ur(b,Y,ae)||Ie,re=function(He,Fe,We){for(var Oe,ge=G(G({},Fe),{className:void 0,theme:We}),xt=0;xt<He.length;xt+=1){var Ge=Me(Oe=He[xt])?Oe(ge):Oe;for(var ue in Ge)ge[ue]=ue==="className"?we(ge[ue],Ge[ue]):ue==="style"?G(G({},ge[ue]),Ge[ue]):Ge[ue]}return Fe.className&&(ge.className=we(ge.className,Fe.className)),ge}($,b,nr),Ye=re.as||A,Pe={};for(var ce in re)re[ce]===void 0||ce[0]==="$"||ce==="as"||ce==="theme"&&re.theme===nr||(ce==="forwardedAs"?Pe.as=re.forwardedAs:yt&&!yt(ce,Ye)||(Pe[ce]=re[ce]));var sr=function(He,Fe){var We=$t(),Oe=He.generateAndInjectStyles(Fe,We.styleSheet,We.stylis);return Oe}(K,re),wt=we(D,w);return sr&&(wt+=" "+sr),re.className&&(wt+=" "+re.className),Pe[kt(Ye)&&!Vr.has(Ye)?"class":"className"]=wt,B&&(Pe.ref=B),Mn(Ye,Pe)}(I,y,k)}C.displayName=u;var I=ee.forwardRef(C);return I.attrs=p,I.componentStyle=S,I.displayName=u,I.shouldForwardProp=m,I.foldedComponentIds=n?we(s.foldedComponentIds,s.styledComponentId):"",I.styledComponentId=h,I.target=n?s.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=n?function(k){for(var T=[],b=1;b<arguments.length;b++)T[b-1]=arguments[b];for(var B=0,$=T;B<$.length;B++)Nt(k,$[B],!0);return k}({},s.defaultProps,y):y}}),Xt(I,function(){return".".concat(I.styledComponentId)}),o&&nn(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function xr(t,r){for(var e=[t[0]],n=0,s=r.length;n<s;n+=1)e.push(r[n],t[n+1]);return e}var br=function(t){return Object.assign(t,{isCss:!0})};function dn(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];if(Me(t)||Le(t))return br(fe(xr(gt,$e([t],r,!0))));var n=t;return r.length===0&&n.length===1&&typeof n[0]=="string"?fe(n):br(fe(xr(n,r)))}function Lt(t,r,e){if(e===void 0&&(e=Ie),!r)throw je(1,r);var n=function(s){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return t(r,e,dn.apply(void 0,$e([s],o,!1)))};return n.attrs=function(s){return Lt(t,r,G(G({},e),{attrs:Array.prototype.concat(e.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return Lt(t,r,G(G({},e),s))},n}var hn=function(t){return Lt(Ks,t)},v=hn;Vr.forEach(function(t){v[t]=hn(t)});var Us=function(){function t(r,e){this.rules=r,this.componentId=e,this.isStatic=ln(r),it.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,e,n,s){var o=s(Bt(fe(this.rules,e,n,s)),""),i=this.componentId+r;n.insertRules(i,i,o)},t.prototype.removeStyles=function(r,e){e.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,e,n,s){r>2&&it.registerId(this.componentId+r),this.removeStyles(r,n),this.createStyles(r,e,n,s)},t}();function Vs(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=dn.apply(void 0,$e([t],r,!1)),s="sc-global-".concat(Jr(JSON.stringify(n))),o=new Us(n,s),i=function(c){var l=$t(),f=ee.useContext(Zt),u=ee.useRef(l.styleSheet.allocateGSInstance(s)).current;return l.styleSheet.server&&a(u,c,l.styleSheet,f,l.stylis),ee.useLayoutEffect(function(){if(!l.styleSheet.server)return a(u,c,l.styleSheet,f,l.stylis),function(){return o.removeStyles(u,l.styleSheet)}},[u,c,l.styleSheet,f,l.stylis]),null};function a(c,l,f,u,h){if(o.isStatic)o.renderStyles(c,ms,f,h);else{var p=G(G({},l),{theme:Ur(l,u,i.defaultProps)});o.renderStyles(c,p,f,h)}}return ee.memo(i)}const Xs=t=>t.split(`
`).filter(e=>e.trim()!=="").map(Zs),Zs=t=>{let r=t,e=!1,n,s,o,i="";if(r.startsWith("x ")){e=!0,r=r.substring(2);const p=/^(\d{4}-\d{2}-\d{2})\s+/.exec(r);p&&(n=new Date(p[1]),r=r.substring(p[0].length))}const a=/^\(([A-Z])\)\s+/.exec(r);a&&(s=a[1],r=r.substring(a[0].length));const c=/^(\d{4}-\d{2}-\d{2})\s+/.exec(r);c&&(o=new Date(c[1]),r=r.substring(c[0].length)),i=r;const l=Js(r),f=eo(r),u=to(r);let h=i;return l.forEach(p=>{h=h.replace(new RegExp(`\\s\\+${p}\\b`,"g"),"")}),f.forEach(p=>{h=h.replace(new RegExp(`\\s@${p}\\b`,"g"),"")}),Object.entries(u).forEach(([p,m])=>{h=h.replace(new RegExp(`\\s${p}:${m}\\b`,"g"),"")}),h=h.trim(),{raw:t,completed:e,completionDate:n,priority:s,creationDate:o,description:h,projects:l,contexts:f,metadata:u}},Js=t=>{const r=t.match(/\s\+([^\s]+)/g);return r?r.map(e=>e.trim().substring(1)):[]},eo=t=>{const r=t.match(/\s@([^\s]+)/g);return r?r.map(e=>e.trim().substring(1)):[]},to=t=>{const r=t.match(/\s([^\s:]+):([^\s:]+)/g);return r?r.reduce((e,n)=>{const[s,o]=n.trim().split(":");return{...e,[s]:o}},{}):{}},vr=t=>t.toISOString().split("T")[0],Jt=t=>{const r=[];t.completed&&(r.push("x"),t.completionDate&&r.push(vr(t.completionDate))),!t.completed&&t.priority&&r.push(`(${t.priority})`),t.creationDate&&r.push(vr(t.creationDate));let{description:e}=t;t.projects.forEach(s=>{e=e.replace(` +${s}`,"")}),t.contexts.forEach(s=>{e=e.replace(` @${s}`,"")}),Object.entries(t.metadata).forEach(([s,o])=>{e=e.replace(` ${s}:${o}`,"")}),r.push(e.trim());const n=[...t.projects.map(s=>`+${s}`),...t.contexts.map(s=>`@${s}`),...Object.entries(t.metadata).map(([s,o])=>`${s}:${o}`)];return[...r,...n].join(" ")},ro=t=>t.map(Jt).join(`
`),no=v.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  margin: 0 auto;
  padding: 20px;

  @media (min-width: 769px) {
    margin-left: 250px;
  }
`,mt=v.button`
  background-color: var(--sn-stylekit-info-color);
  color: var(--sn-stylekit-info-contrast-color);
  border: none;
  border-radius: 4px;
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;

  &:hover {
    background-color: var(--sn-stylekit-info-color-darkened);
  }

  &:disabled {
    background-color: var(--sn-stylekit-passive-color-3);
    color: var(--sn-stylekit-passive-color-1);
    cursor: not-allowed;
  }
`,so=v(mt)`
  background-color: var(--sn-stylekit-contrast-background-color);
  color: var(--sn-stylekit-foreground-color);

  &:hover {
    background-color: var(--sn-stylekit-secondary-background-color);
  }
`,oo=v.main`
  flex: 1;
  transition: margin-left 0.3s ease;

  @media (max-width: 768px) {
    margin-left: 0;
    width: 100%;
  }
`,io=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 999;
  display: ${t=>t.isOpen?"block":"none"};

  @media (min-width: 769px) {
    display: none;
  }
`,ao=()=>d("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),d("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),d("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),co=()=>d("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",role:"img",children:d("path",{d:"M7.5 2.5v.833H3.333V5h.834v10.833A1.666 1.666 0 0 0 5.833 17.5h8.334a1.667 1.667 0 0 0 1.666-1.667V5h.834V3.333H12.5V2.5h-5ZM5.833 5h8.334v10.833H5.833V5ZM7.5 6.667v7.5h1.667v-7.5H7.5Zm3.333 0v7.5H12.5v-7.5h-1.667Z"})}),uo=()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",children:d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})}),lo=v.aside`
  width: ${t=>t.isOpen?"250px":"0"};
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  transition:
    width 0.3s ease,
    transform 0.3s ease;
  overflow-x: hidden;
  z-index: 1000;
  box-shadow: ${t=>t.isOpen?"0 0 10px rgba(0, 0, 0, 0.2)":"none"};
  /* On mobile, sidebar slides in from left */
  @media (max-width: 768px) {
    width: 250px;
    transform: ${t=>t.isOpen?"translateX(0)":"translateX(-100%)"};
  }
`,ho=v.div`
  width: 250px;
  padding: 20px;
  padding-top: 75px;
`,fo=v.div`
  flex: 1;
  overflow-y: auto;
  background-color: var(--sn-stylekit-editor-background-color);
  border: 1px solid var(--sn-stylekit-border-color);
  border-radius: 4px;
`,Ue=v.div`
  margin-bottom: 24px;
`,Ve=v.h3`
  font-size: 14px;
  font-weight: 500;
  color: var(--sn-stylekit-passive-color-1);
  margin-bottom: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,le=v.div`
  display: flex;
  align-items: center;
  padding: 8px 12px;
  margin-bottom: 4px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  background-color: ${t=>t.active?"var(--sn-stylekit-contrast-background-color)":"transparent"};
  color: ${t=>t.active?"var(--sn-stylekit-info-color)":"var(--sn-stylekit-foreground-color)"};
  font-weight: ${t=>t.active?"500":"normal"};

  &:hover {
    background-color: var(--sn-stylekit-contrast-background-color);
  }
`,de=v.span`
  background-color: var(--sn-stylekit-passive-color-4);
  color: var(--sn-stylekit-passive-color-1);
  border-radius: 10px;
  padding: 2px 8px;
  font-size: 12px;
  margin-left: auto;
`,po=v.div`
  display: flex;
  align-items: center;
  padding: 12px 16px;
  border-bottom: 1px solid var(--sn-stylekit-border-color);
  opacity: ${t=>t.completed?.6:1};

  &:hover {
    background-color: var(--sn-stylekit-contrast-background-color);
  }
`,go=v.input`
  margin-right: 12px;
  width: 18px;
  height: 18px;
  cursor: pointer;
`,mo=v.div`
  flex: 1;
`,yo=v.div`
  font-size: 15px;
  margin-bottom: 4px;
  color: var(--sn-stylekit-foreground-color);
  text-decoration: ${t=>t.completed?"line-through":"none"};
`,wo=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 12px;
`,xo=v.span`
  background-color: ${t=>{switch(t.priority){case"A":return"var(--sn-stylekit-danger-color)";case"B":return"var(--sn-stylekit-warning-color)";case"C":return"var(--sn-stylekit-info-color)";default:return"var(--sn-stylekit-passive-color-3)"}}};
  color: ${t=>t.priority==="A"?"white":"black"};
  border-radius: 3px;
  padding: 2px 6px;
  font-weight: 500;
`,bo=v.span`
  background-color: var(--sn-stylekit-accessory-tint-color-5);
  color: white;
  border-radius: 3px;
  padding: 2px 6px;
`,vo=v.span`
  background-color: var(--sn-stylekit-accessory-tint-color-4);
  color: white;
  border-radius: 3px;
  padding: 2px 6px;
`,ko=v.span`
  background-color: var(--sn-stylekit-passive-color-4);
  color: var(--sn-stylekit-passive-color-0);
  border-radius: 3px;
  padding: 2px 6px;
`,kr=v.span`
  color: var(--sn-stylekit-passive-color-1);
  font-size: 12px;
`,Ao=v.div`
  display: grid;
  /* Mobile layout (menu + search + add button) */
  grid-template-columns: auto 1fr auto;
  gap: 12px;
  align-items: center;
  padding: 0 16px;

  @media (min-width: 769px) {
    /* Desktop layout (search + add button) */
    grid-template-columns: 1fr auto;
  }
`,Eo=v(mt)`
  justify-content: center;
  height: 44px;
  white-space: nowrap;
`,To=v.button`
  background: var(--sn-stylekit-info-color, #4a90e2);
  color: white;
  border: none;
  border-radius: 4px;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background: var(--sn-stylekit-info-color-hover, #3a80d2);
  }

  /* Hide on desktop */
  @media (min-width: 769px) {
    display: none;
  }
`,Do=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 20px;
  text-align: center;
  color: var(--sn-stylekit-passive-color-1);
`,Co=v.div`
  font-size: 48px;
  margin-bottom: 16px;
  color: var(--sn-stylekit-passive-color-3);
`,Io=v.p`
  font-size: 16px;
  margin-bottom: 16px;
`,Mo=v.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,So=v.div`
  background-color: var(--sn-stylekit-background-color);
  border-radius: 8px;
  width: 500px;
  max-width: 90%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
`,_o=v.div`
  padding: 16px 20px;
  border-bottom: 1px solid var(--sn-stylekit-border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Po=v.h2`
  font-size: 18px;
  font-weight: 500;
`,Fo=v.button`
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: var(--sn-stylekit-passive-color-1);

  &:hover {
    color: var(--sn-stylekit-foreground-color);
  }
`,Oo=v.div`
  padding: 20px;
`,Bo=v.div`
  padding: 16px 20px;
  border-top: 1px solid var(--sn-stylekit-border-color);
  display: flex;
  justify-content: flex-end;
  gap: 12px;
`,ke=v.div`
  margin-bottom: 16px;
`,Ae=v.label`
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: var(--sn-stylekit-foreground-color);
`,Ar=v.input`
  width: 100%;
  padding: 10px 12px;
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border: 1px solid var(--sn-stylekit-border-color);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,Et=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
`,Er=v.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
`,Tr=v.input`
  flex: 1;
  padding: 8px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,Tt=v.button`
  background-color: var(--sn-stylekit-contrast-background-color);
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: var(--sn-stylekit-secondary-background-color);
  }
`,Dt=v.div`
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  background-color: var(--sn-stylekit-contrast-background-color);
  border-radius: 4px;
  font-size: 14px;
`,Ct=v.button`
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: var(--sn-stylekit-passive-color-1);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  padding: 0;

  &:hover {
    color: var(--sn-stylekit-danger-color);
  }
`,No=v.div`
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 8px;
  margin-top: 8px;
  width: 100%;
`,Ro=v.input`
  min-width: 0; /* Critical to prevent overflow */
  padding: 8px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,$o=v.input`
  min-width: 0; /* Critical to prevent overflow */
  padding: 8px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,Lo=v.div`
  display: flex;
  gap: 8px;
  margin-left: auto;
`,jo=t=>{switch(t){case"danger":return"--sn-stylekit-danger-color";case"warning":return"--sn-stylekit-warning-color";default:return"--sn-stylekit-foreground-color"}},Dr=v.button`
  background: none;
  border: none;
  color: var(--sn-stylekit-passive-color-1);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 4px;

  &:hover {
    background-color: var(--sn-stylekit-secondary-background-color);
    color: var(${t=>jo(t.color)});
  }
`,zo=v.select`
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  border-radius: 4px;
  font-size: 14px;
  background-color: var(--sn-stylekit-background-color);
  color: var(--sn-stylekit-foreground-color);
  appearance: none; /* Remove default arrow */
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2372767e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 16px;
  padding-right: 30px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }

  option {
    background-color: var(--sn-stylekit-background-color);
    color: var(--sn-stylekit-foreground-color);
  }

  /* For Firefox */
  @-moz-document url-prefix() {
    color: var(--sn-stylekit-foreground-color);
    background-color: var(--sn-stylekit-background-color);
  }
`,Yo=v.div`
  position: relative;
  width: 100%;
  margin: 16px 0;
`,Ho=v.input`
  width: 100%;
  padding: 12px 16px 12px 42px;
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border: 1px solid var(--sn-stylekit-border-color, #3a3a3a);
  border-radius: 8px;
  font-size: 16px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color, #4a90e2);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  &::placeholder {
    color: var(--sn-stylekit-foreground-color, #888888);
  }
`,Wo=v.div`
  position: absolute;
  top: 50%;
  left: 14px;
  transform: translateY(-50%);
  color: var(--sn-stylekit-foreground-color, #888888);
  pointer-events: none;
  transition: color 0.2s ease;
`,Go=v.button`
  position: absolute;
  top: 50%;
  right: 12px;
  transform: translateY(-50%);
  display: "flex";
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  background-color: var(--sn-stylekit-foreground-color, #888888);
  color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 12px;
  font-weight: bold;
  transition: all 0.2s ease;

  &:hover {
    background-color: var(--sn-stylekit-contrast-foreground-color, #ffffff);
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--sn-stylekit-info-color, #4a90e2);
  }
`,Qo=({onSave:t,onCancel:r,editContext:e})=>{const[n,s]=H((e==null?void 0:e.item.description)??""),[o,i]=H((e==null?void 0:e.item.priority)??""),[a,c]=H((e==null?void 0:e.item.projects)??[]),[l,f]=H((e==null?void 0:e.item.contexts)??[]),[u,h]=H((e==null?void 0:e.item.metadata)??{}),[p,m]=H(""),[x,_]=H(""),[S,C]=H(""),[I,y]=H(""),k=()=>{S.trim()&&I.trim()&&(h({...u,[S.trim()]:I.trim()}),C(""),y(""))},T=w=>{const A={...u};delete A[w],h(A)},b=()=>{if(!n.trim())return;const w={raw:"",completed:!1,description:n.trim(),priority:o||void 0,creationDate:new Date,projects:a,contexts:l,metadata:u};w.raw=Jt(w),t(w,e==null?void 0:e.index)},B=()=>{p.trim()&&!a.includes(p.trim())&&(c([...a,p.trim()]),m(""))},$=()=>{x.trim()&&!l.includes(x.trim())&&(f([...l,x.trim()]),_(""))},K=w=>{c(a.filter(A=>A!==w))},ae=w=>{f(l.filter(A=>A!==w))},D=w=>{const A=u;u.due=w.target.value,h(A)};return d(Mo,{children:d(So,{children:[d(_o,{children:[d(Po,{children:e?"Edit Task":"Add New Task"}),d(Fo,{onClick:r,children:"×"})]}),d(Oo,{children:[d(ke,{children:[d(Ae,{children:"Task Description"}),d(Ar,{value:n,onChange:w=>{s(w.target.value)},placeholder:"What needs to be done?",autoFocus:!0})]}),d(ke,{children:[d(Ae,{children:"Priority"}),d(zo,{value:o,onChange:w=>{i(w.target.value)},children:[d("option",{value:"",children:"No Priority"}),["A","B","C","D","E"].map(w=>d("option",{value:w,children:["Priority ",w]},w))]})]}),d(ke,{children:[d(Ae,{children:"Projects"}),d(Et,{children:a.map(w=>d(Dt,{children:["+",w,d(Ct,{onClick:()=>{K(w)},children:"×"})]},w))}),d(Er,{children:[d(Tr,{value:p,onChange:w=>{m(w.target.value)},placeholder:"Add project...",onKeyDown:w=>{w.key==="Enter"&&B()}}),d(Tt,{onClick:B,children:"Add"})]})]}),d(ke,{children:[d(Ae,{children:"Contexts"}),d(Et,{children:l.map(w=>d(Dt,{children:["@",w,d(Ct,{onClick:()=>{ae(w)},children:"×"})]},w))}),d(Er,{children:[d(Tr,{value:x,onChange:w=>{_(w.target.value)},placeholder:"Add context...",onKeyDown:w=>{w.key==="Enter"&&$()}}),d(Tt,{onClick:$,children:"Add"})]})]}),d(ke,{children:[d(Ae,{children:"Due Date"}),d(Ar,{type:"date",onChange:D,value:u.due})]}),d(ke,{children:[d(Ae,{children:"Metadata"}),d(Et,{children:Object.entries(u).map(([w,A])=>d(Dt,{children:[w,":",A,d(Ct,{onClick:()=>{T(w)},children:"×"})]},w))}),d(No,{children:[d(Ro,{value:S,onChange:w=>{C(w.target.value)},placeholder:"Key"}),d($o,{value:I,onChange:w=>{y(w.target.value)},placeholder:"Value",onKeyDown:w=>{w.key==="Enter"&&k()}}),d(Tt,{onClick:k,children:"Add"})]})]})]}),d(Bo,{children:[d(so,{onClick:r,children:"Cancel"}),d(mt,{onClick:b,disabled:n=="",children:e?"Update Task":"Add Task"})]})]})})},Cr="todo_txt_search_input",qo=({value:t,onChange:r})=>d(Yo,{children:[d(Ho,{id:Cr,type:"text",placeholder:"Search...",value:t,onChange:s=>{r(s.target.value)}}),d(Wo,{children:d("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d("circle",{cx:"11",cy:"11",r:"8"}),d("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),d(Go,{onClick:()=>{r(""),document.getElementById(Cr).focus()},"aria-label":"Clear search",children:"×"})]});function ie(t){return Array.isArray?Array.isArray(t):gn(t)==="[object Array]"}function Ko(t){if(typeof t=="string")return t;let r=t+"";return r=="0"&&1/t==-1/0?"-0":r}function Uo(t){return t==null?"":Ko(t)}function te(t){return typeof t=="string"}function fn(t){return typeof t=="number"}function Vo(t){return t===!0||t===!1||Xo(t)&&gn(t)=="[object Boolean]"}function pn(t){return typeof t=="object"}function Xo(t){return pn(t)&&t!==null}function q(t){return t!=null}function It(t){return!t.trim().length}function gn(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Zo="Incorrect 'index' type",Jo=t=>`Invalid value for key ${t}`,ei=t=>`Pattern length exceeds max of ${t}.`,ti=t=>`Missing ${t} property in key`,ri=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ir=Object.prototype.hasOwnProperty;class ni{constructor(r){this._keys=[],this._keyMap={};let e=0;r.forEach(n=>{let s=mn(n);this._keys.push(s),this._keyMap[s.id]=s,e+=s.weight}),this._keys.forEach(n=>{n.weight/=e})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function mn(t){let r=null,e=null,n=null,s=1,o=null;if(te(t)||ie(t))n=t,r=Mr(t),e=jt(t);else{if(!Ir.call(t,"name"))throw new Error(ti("name"));const i=t.name;if(n=i,Ir.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(ri(i));r=Mr(i),e=jt(i),o=t.getFn}return{path:r,id:e,weight:s,src:n,getFn:o}}function Mr(t){return ie(t)?t:t.split(".")}function jt(t){return ie(t)?t.join("."):t}function si(t,r){let e=[],n=!1;const s=(o,i,a)=>{if(q(o))if(!i[a])e.push(o);else{let c=i[a];const l=o[c];if(!q(l))return;if(a===i.length-1&&(te(l)||fn(l)||Vo(l)))e.push(Uo(l));else if(ie(l)){n=!0;for(let f=0,u=l.length;f<u;f+=1)s(l[f],i,a+1)}else i.length&&s(l,i,a+1)}};return s(t,te(r)?r.split("."):r,0),n?e:e[0]}const oi={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ii={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,r)=>t.score===r.score?t.idx<r.idx?-1:1:t.score<r.score?-1:1},ai={location:0,threshold:.6,distance:100},ci={useExtendedSearch:!1,getFn:si,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var E={...ii,...oi,...ai,...ci};const ui=/[^ ]+/g;function li(t=1,r=3){const e=new Map,n=Math.pow(10,r);return{get(s){const o=s.match(ui).length;if(e.has(o))return e.get(o);const i=1/Math.pow(o,.5*t),a=parseFloat(Math.round(i*n)/n);return e.set(o,a),a},clear(){e.clear()}}}class er{constructor({getFn:r=E.getFn,fieldNormWeight:e=E.fieldNormWeight}={}){this.norm=li(e,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((e,n)=>{this._keysMap[e.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,te(this.docs[0])?this.docs.forEach((r,e)=>{this._addString(r,e)}):this.docs.forEach((r,e)=>{this._addObject(r,e)}),this.norm.clear())}add(r){const e=this.size();te(r)?this._addString(r,e):this._addObject(r,e)}removeAt(r){this.records.splice(r,1);for(let e=r,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(r,e){return r[this._keysMap[e]]}size(){return this.records.length}_addString(r,e){if(!q(r)||It(r))return;let n={v:r,i:e,n:this.norm.get(r)};this.records.push(n)}_addObject(r,e){let n={i:e,$:{}};this.keys.forEach((s,o)=>{let i=s.getFn?s.getFn(r):this.getFn(r,s.path);if(q(i)){if(ie(i)){let a=[];const c=[{nestedArrIndex:-1,value:i}];for(;c.length;){const{nestedArrIndex:l,value:f}=c.pop();if(q(f))if(te(f)&&!It(f)){let u={v:f,i:l,n:this.norm.get(f)};a.push(u)}else ie(f)&&f.forEach((u,h)=>{c.push({nestedArrIndex:h,value:u})})}n.$[o]=a}else if(te(i)&&!It(i)){let a={v:i,n:this.norm.get(i)};n.$[o]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function yn(t,r,{getFn:e=E.getFn,fieldNormWeight:n=E.fieldNormWeight}={}){const s=new er({getFn:e,fieldNormWeight:n});return s.setKeys(t.map(mn)),s.setSources(r),s.create(),s}function di(t,{getFn:r=E.getFn,fieldNormWeight:e=E.fieldNormWeight}={}){const{keys:n,records:s}=t,o=new er({getFn:r,fieldNormWeight:e});return o.setKeys(n),o.setIndexRecords(s),o}function Xe(t,{errors:r=0,currentLocation:e=0,expectedLocation:n=0,distance:s=E.distance,ignoreLocation:o=E.ignoreLocation}={}){const i=r/t.length;if(o)return i;const a=Math.abs(n-e);return s?i+a/s:a?1:i}function hi(t=[],r=E.minMatchCharLength){let e=[],n=-1,s=-1,o=0;for(let i=t.length;o<i;o+=1){let a=t[o];a&&n===-1?n=o:!a&&n!==-1&&(s=o-1,s-n+1>=r&&e.push([n,s]),n=-1)}return t[o-1]&&o-n>=r&&e.push([n,o-1]),e}const ye=32;function fi(t,r,e,{location:n=E.location,distance:s=E.distance,threshold:o=E.threshold,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,includeMatches:c=E.includeMatches,ignoreLocation:l=E.ignoreLocation}={}){if(r.length>ye)throw new Error(ei(ye));const f=r.length,u=t.length,h=Math.max(0,Math.min(n,u));let p=o,m=h;const x=a>1||c,_=x?Array(u):[];let S;for(;(S=t.indexOf(r,m))>-1;){let b=Xe(r,{currentLocation:S,expectedLocation:h,distance:s,ignoreLocation:l});if(p=Math.min(b,p),m=S+f,x){let B=0;for(;B<f;)_[S+B]=1,B+=1}}m=-1;let C=[],I=1,y=f+u;const k=1<<f-1;for(let b=0;b<f;b+=1){let B=0,$=y;for(;B<$;)Xe(r,{errors:b,currentLocation:h+$,expectedLocation:h,distance:s,ignoreLocation:l})<=p?B=$:y=$,$=Math.floor((y-B)/2+B);y=$;let K=Math.max(1,h-$+1),ae=i?u:Math.min(h+$,u)+f,D=Array(ae+2);D[ae+1]=(1<<b)-1;for(let A=ae;A>=K;A-=1){let Y=A-1,ze=e[t.charAt(Y)];if(x&&(_[Y]=+!!ze),D[A]=(D[A+1]<<1|1)&ze,b&&(D[A]|=(C[A+1]|C[A])<<1|1|C[A+1]),D[A]&k&&(I=Xe(r,{errors:b,currentLocation:Y,expectedLocation:h,distance:s,ignoreLocation:l}),I<=p)){if(p=I,m=Y,m<=h)break;K=Math.max(1,2*h-m)}}if(Xe(r,{errors:b+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:l})>p)break;C=D}const T={isMatch:m>=0,score:Math.max(.001,I)};if(x){const b=hi(_,a);b.length?c&&(T.indices=b):T.isMatch=!1}return T}function pi(t){let r={};for(let e=0,n=t.length;e<n;e+=1){const s=t.charAt(e);r[s]=(r[s]||0)|1<<n-e-1}return r}const at=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class wn{constructor(r,{location:e=E.location,threshold:n=E.threshold,distance:s=E.distance,includeMatches:o=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:c=E.isCaseSensitive,ignoreDiacritics:l=E.ignoreDiacritics,ignoreLocation:f=E.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:f},r=c?r:r.toLowerCase(),r=l?at(r):r,this.pattern=r,this.chunks=[],!this.pattern.length)return;const u=(p,m)=>{this.chunks.push({pattern:p,alphabet:pi(p),startIndex:m})},h=this.pattern.length;if(h>ye){let p=0;const m=h%ye,x=h-m;for(;p<x;)u(this.pattern.substr(p,ye),p),p+=ye;if(m){const _=h-ye;u(this.pattern.substr(_),_)}}else u(this.pattern,0)}searchIn(r){const{isCaseSensitive:e,ignoreDiacritics:n,includeMatches:s}=this.options;if(r=e?r:r.toLowerCase(),r=n?at(r):r,this.pattern===r){let x={isMatch:!0,score:0};return s&&(x.indices=[[0,r.length-1]]),x}const{location:o,distance:i,threshold:a,findAllMatches:c,minMatchCharLength:l,ignoreLocation:f}=this.options;let u=[],h=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:_,startIndex:S})=>{const{isMatch:C,score:I,indices:y}=fi(r,x,_,{location:o+S,distance:i,threshold:a,findAllMatches:c,minMatchCharLength:l,includeMatches:s,ignoreLocation:f});C&&(p=!0),h+=I,C&&y&&(u=[...u,...y])});let m={isMatch:p,score:p?h/this.chunks.length:1};return p&&s&&(m.indices=u),m}}class pe{constructor(r){this.pattern=r}static isMultiMatch(r){return Sr(r,this.multiRegex)}static isSingleMatch(r){return Sr(r,this.singleRegex)}search(){}}function Sr(t,r){const e=t.match(r);return e?e[1]:null}class gi extends pe{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){const e=r===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class mi extends pe{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){const n=r.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,r.length-1]}}}class yi extends pe{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){const e=r.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class wi extends pe{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){const e=!r.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,r.length-1]}}}class xi extends pe{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){const e=r.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}class bi extends pe{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){const e=!r.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,r.length-1]}}}class xn extends pe{constructor(r,{location:e=E.location,threshold:n=E.threshold,distance:s=E.distance,includeMatches:o=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:c=E.isCaseSensitive,ignoreDiacritics:l=E.ignoreDiacritics,ignoreLocation:f=E.ignoreLocation}={}){super(r),this._bitapSearch=new wn(r,{location:e,threshold:n,distance:s,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}}class bn extends pe{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let e=0,n;const s=[],o=this.pattern.length;for(;(n=r.indexOf(this.pattern,e))>-1;)e=n+o,s.push([n,e-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const zt=[gi,bn,yi,wi,bi,xi,mi,xn],_r=zt.length,vi=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ki="|";function Ai(t,r={}){return t.split(ki).map(e=>{let n=e.trim().split(vi).filter(o=>o&&!!o.trim()),s=[];for(let o=0,i=n.length;o<i;o+=1){const a=n[o];let c=!1,l=-1;for(;!c&&++l<_r;){const f=zt[l];let u=f.isMultiMatch(a);u&&(s.push(new f(u,r)),c=!0)}if(!c)for(l=-1;++l<_r;){const f=zt[l];let u=f.isSingleMatch(a);if(u){s.push(new f(u,r));break}}}return s})}const Ei=new Set([xn.type,bn.type]);class Ti{constructor(r,{isCaseSensitive:e=E.isCaseSensitive,ignoreDiacritics:n=E.ignoreDiacritics,includeMatches:s=E.includeMatches,minMatchCharLength:o=E.minMatchCharLength,ignoreLocation:i=E.ignoreLocation,findAllMatches:a=E.findAllMatches,location:c=E.location,threshold:l=E.threshold,distance:f=E.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:n,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:c,threshold:l,distance:f},r=e?r:r.toLowerCase(),r=n?at(r):r,this.pattern=r,this.query=Ai(this.pattern,this.options)}static condition(r,e){return e.useExtendedSearch}searchIn(r){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s,ignoreDiacritics:o}=this.options;r=s?r:r.toLowerCase(),r=o?at(r):r;let i=0,a=[],c=0;for(let l=0,f=e.length;l<f;l+=1){const u=e[l];a.length=0,i=0;for(let h=0,p=u.length;h<p;h+=1){const m=u[h],{isMatch:x,indices:_,score:S}=m.search(r);if(x){if(i+=1,c+=S,n){const C=m.constructor.type;Ei.has(C)?a=[...a,..._]:a.push(_)}}else{c=0,i=0,a.length=0;break}}if(i){let h={isMatch:!0,score:c/i};return n&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const Yt=[];function Di(...t){Yt.push(...t)}function Ht(t,r){for(let e=0,n=Yt.length;e<n;e+=1){let s=Yt[e];if(s.condition(t,r))return new s(t,r)}return new wn(t,r)}const ct={AND:"$and",OR:"$or"},Wt={PATH:"$path",PATTERN:"$val"},Gt=t=>!!(t[ct.AND]||t[ct.OR]),Ci=t=>!!t[Wt.PATH],Ii=t=>!ie(t)&&pn(t)&&!Gt(t),Pr=t=>({[ct.AND]:Object.keys(t).map(r=>({[r]:t[r]}))});function vn(t,r,{auto:e=!0}={}){const n=s=>{let o=Object.keys(s);const i=Ci(s);if(!i&&o.length>1&&!Gt(s))return n(Pr(s));if(Ii(s)){const c=i?s[Wt.PATH]:o[0],l=i?s[Wt.PATTERN]:s[c];if(!te(l))throw new Error(Jo(c));const f={keyId:jt(c),pattern:l};return e&&(f.searcher=Ht(l,r)),f}let a={children:[],operator:o[0]};return o.forEach(c=>{const l=s[c];ie(l)&&l.forEach(f=>{a.children.push(n(f))})}),a};return Gt(t)||(t=Pr(t)),n(t)}function Mi(t,{ignoreFieldNorm:r=E.ignoreFieldNorm}){t.forEach(e=>{let n=1;e.matches.forEach(({key:s,norm:o,score:i})=>{const a=s?s.weight:null;n*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(r?1:o))}),e.score=n})}function Si(t,r){const e=t.matches;r.matches=[],q(e)&&e.forEach(n=>{if(!q(n.indices)||!n.indices.length)return;const{indices:s,value:o}=n;let i={indices:s,value:o};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),r.matches.push(i)})}function _i(t,r){r.score=t.score}function Pi(t,r,{includeMatches:e=E.includeMatches,includeScore:n=E.includeScore}={}){const s=[];return e&&s.push(Si),n&&s.push(_i),t.map(o=>{const{idx:i}=o,a={item:r[i],refIndex:i};return s.length&&s.forEach(c=>{c(o,a)}),a})}class _e{constructor(r,e={},n){this.options={...E,...e},this.options.useExtendedSearch,this._keyStore=new ni(this.options.keys),this.setCollection(r,n)}setCollection(r,e){if(this._docs=r,e&&!(e instanceof er))throw new Error(Zo);this._myIndex=e||yn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){q(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const o=this._docs[n];r(o,n)&&(this.removeAt(n),n-=1,s-=1,e.push(o))}return e}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:e=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let c=te(r)?te(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return Mi(c,{ignoreFieldNorm:a}),o&&c.sort(i),fn(e)&&e>-1&&(c=c.slice(0,e)),Pi(c,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(r){const e=Ht(r,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:o,i,n:a})=>{if(!q(o))return;const{isMatch:c,score:l,indices:f}=e.searchIn(o);c&&s.push({item:o,idx:i,matches:[{score:l,value:o,norm:a,indices:f}]})}),s}_searchLogical(r){const e=vn(r,this.options),n=(a,c,l)=>{if(!a.children){const{keyId:u,searcher:h}=a,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(c,u),searcher:h});return p&&p.length?[{idx:l,item:c,matches:p}]:[]}const f=[];for(let u=0,h=a.children.length;u<h;u+=1){const p=a.children[u],m=n(p,c,l);if(m.length)f.push(...m);else if(a.operator===ct.AND)return[]}return f},s=this._myIndex.records,o={},i=[];return s.forEach(({$:a,i:c})=>{if(q(a)){let l=n(e,a,c);l.length&&(o[c]||(o[c]={idx:c,item:a,matches:[]},i.push(o[c])),l.forEach(({matches:f})=>{o[c].matches.push(...f)}))}}),i}_searchObjectList(r){const e=Ht(r,this.options),{keys:n,records:s}=this._myIndex,o=[];return s.forEach(({$:i,i:a})=>{if(!q(i))return;let c=[];n.forEach((l,f)=>{c.push(...this._findMatches({key:l,value:i[f],searcher:e}))}),c.length&&o.push({idx:a,item:i,matches:c})}),o}_findMatches({key:r,value:e,searcher:n}){if(!q(e))return[];let s=[];if(ie(e))e.forEach(({v:o,i,n:a})=>{if(!q(o))return;const{isMatch:c,score:l,indices:f}=n.searchIn(o);c&&s.push({score:l,key:r,value:o,idx:i,norm:a,indices:f})});else{const{v:o,n:i}=e,{isMatch:a,score:c,indices:l}=n.searchIn(o);a&&s.push({score:c,key:r,value:o,norm:i,indices:l})}return s}}_e.version="7.1.0";_e.createIndex=yn;_e.parseIndex=di;_e.config=E;_e.parseQuery=vn;Di(Ti);function Fi(t,r,e){const[n,s]=Sn(e==null?void 0:e.in,t,r),o=Fr(n,s),i=Math.abs(_n(n,s));n.setDate(n.getDate()-o*i);const a=+(Fr(n,s)===-o),c=o*(i-a);return c===0?0:c}function Fr(t,r){const e=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return e<0?-1:e>0?1:e}function Oi(){return Object.assign({},Br())}function Bi(t,r){const e=be(t,r==null?void 0:r.in).getDay();return e===0?7:e}function Ni(t,r){const e=Ri(r)?new r(0):oe(r,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function Ri(t){var r;return typeof t=="function"&&((r=t.prototype)==null?void 0:r.constructor)===t}const $i=10;class kn{constructor(){g(this,"subPriority",0)}validate(r,e){return!0}}class Li extends kn{constructor(r,e,n,s,o){super(),this.value=r,this.validateValue=e,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(r,e){return this.validateValue(r,this.value,e)}set(r,e,n){return this.setValue(r,e,this.value,n)}}class ji extends kn{constructor(e,n){super();g(this,"priority",$i);g(this,"subPriority",-1);this.context=e||(s=>oe(n,s))}set(e,n){return n.timestampIsSet?e:oe(e,Ni(e,this.context))}}class P{run(r,e,n,s){const o=this.parse(r,e,n,s);return o?{setter:new Li(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(r,e,n){return!0}}class zi extends P{constructor(){super(...arguments);g(this,"priority",140);g(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,n,s){return n.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}const L={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Z={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function j(t,r){return t&&{value:r(t.value),rest:t.rest}}function N(t,r){const e=r.match(t);return e?{value:parseInt(e[0],10),rest:r.slice(e[0].length)}:null}function J(t,r){const e=r.match(t);if(!e)return null;if(e[0]==="Z")return{value:0,rest:r.slice(1)};const n=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:n*(s*Pn+o*Fn+i*On),rest:r.slice(e[0].length)}}function An(t){return N(L.anyDigitsSigned,t)}function R(t,r){switch(t){case 1:return N(L.singleDigit,r);case 2:return N(L.twoDigits,r);case 3:return N(L.threeDigits,r);case 4:return N(L.fourDigits,r);default:return N(new RegExp("^\\d{1,"+t+"}"),r)}}function ut(t,r){switch(t){case 1:return N(L.singleDigitSigned,r);case 2:return N(L.twoDigitsSigned,r);case 3:return N(L.threeDigitsSigned,r);case 4:return N(L.fourDigitsSigned,r);default:return N(new RegExp("^-?\\d{1,"+t+"}"),r)}}function tr(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function En(t,r){const e=r>0,n=e?r:1-r;let s;if(n<=50)s=t||100;else{const o=n+50,i=Math.trunc(o/100)*100,a=t>=o%100;s=t+i-(a?100:0)}return e?s:1-s}function Tn(t){return t%400===0||t%4===0&&t%100!==0}class Yi extends P{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,s){const o=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return j(R(4,e),o);case"yo":return j(s.ordinalNumber(e,{unit:"year"}),o);default:return j(R(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s){const o=e.getFullYear();if(s.isTwoDigitYear){const a=En(s.year,o);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const i=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class Hi extends P{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,s){const o=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return j(R(4,e),o);case"Yo":return j(s.ordinalNumber(e,{unit:"year"}),o);default:return j(R(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s,o){const i=Bn(e,o);if(s.isTwoDigitYear){const c=En(s.year,i);return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Mt(e,o)}const a=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(a,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Mt(e,o)}}class Wi extends P{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return ut(n==="R"?4:n.length,e)}set(e,n,s){const o=oe(e,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),Nr(o)}}class Gi extends P{constructor(){super(...arguments);g(this,"priority",130);g(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return ut(n==="u"?4:n.length,e)}set(e,n,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class Qi extends P{constructor(){super(...arguments);g(this,"priority",120);g(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"Q":case"QQ":return R(n.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class qi extends P{constructor(){super(...arguments);g(this,"priority",120);g(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"q":case"qq":return R(n.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class Ki extends P{constructor(){super(...arguments);g(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);g(this,"priority",110)}parse(e,n,s){const o=i=>i-1;switch(n){case"M":return j(N(L.month,e),o);case"MM":return j(R(2,e),o);case"Mo":return j(s.ordinalNumber(e,{unit:"month"}),o);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class Ui extends P{constructor(){super(...arguments);g(this,"priority",110);g(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,s){const o=i=>i-1;switch(n){case"L":return j(N(L.month,e),o);case"LL":return j(R(2,e),o);case"Lo":return j(s.ordinalNumber(e,{unit:"month"}),o);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}function Vi(t,r,e){const n=be(t,e==null?void 0:e.in),s=Nn(n,e)-r;return n.setDate(n.getDate()-s*7),be(n,e==null?void 0:e.in)}class Xi extends P{constructor(){super(...arguments);g(this,"priority",100);g(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,s){switch(n){case"w":return N(L.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return R(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s,o){return Mt(Vi(e,s,o),o)}}function Zi(t,r,e){const n=be(t,e==null?void 0:e.in),s=Rn(n,e)-r;return n.setDate(n.getDate()-s*7),n}class Ji extends P{constructor(){super(...arguments);g(this,"priority",100);g(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,s){switch(n){case"I":return N(L.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return R(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s){return Nr(Zi(e,s))}}const ea=[31,28,31,30,31,30,31,31,30,31,30,31],ta=[31,29,31,30,31,30,31,31,30,31,30,31];class ra extends P{constructor(){super(...arguments);g(this,"priority",90);g(this,"subPriority",1);g(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"d":return N(L.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return R(n.length,e)}}validate(e,n){const s=e.getFullYear(),o=Tn(s),i=e.getMonth();return o?n>=1&&n<=ta[i]:n>=1&&n<=ea[i]}set(e,n,s){return e.setDate(s),e.setHours(0,0,0,0),e}}class na extends P{constructor(){super(...arguments);g(this,"priority",90);g(this,"subpriority",1);g(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,s){switch(n){case"D":case"DD":return N(L.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return R(n.length,e)}}validate(e,n){const s=e.getFullYear();return Tn(s)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}}function rr(t,r,e){var u,h,p,m;const n=Br(),s=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,o=be(t,e==null?void 0:e.in),i=o.getDay(),c=(r%7+7)%7,l=7-s,f=r<0||r>6?r-(i+l)%7:(c+l)%7-(i+l)%7;return Rr(o,f,e)}class sa extends P{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=rr(e,s,o),e.setHours(0,0,0,0),e}}class oa extends P{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,s,o){const i=a=>{const c=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return j(R(n.length,e),i);case"eo":return j(s.ordinalNumber(e,{unit:"day"}),i);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=rr(e,s,o),e.setHours(0,0,0,0),e}}class ia extends P{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,s,o){const i=a=>{const c=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return j(R(n.length,e),i);case"co":return j(s.ordinalNumber(e,{unit:"day"}),i);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=rr(e,s,o),e.setHours(0,0,0,0),e}}function aa(t,r,e){const n=be(t,e==null?void 0:e.in),s=Bi(n,e),o=r-s;return Rr(n,o,e)}class ca extends P{constructor(){super(...arguments);g(this,"priority",90);g(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,s){const o=i=>i===0?7:i;switch(n){case"i":case"ii":return R(n.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return j(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return j(s.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return j(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return j(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,n){return n>=1&&n<=7}set(e,n,s){return e=aa(e,s),e.setHours(0,0,0,0),e}}class ua extends P{constructor(){super(...arguments);g(this,"priority",80);g(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(tr(s),0,0,0),e}}class la extends P{constructor(){super(...arguments);g(this,"priority",80);g(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(tr(s),0,0,0),e}}class da extends P{constructor(){super(...arguments);g(this,"priority",80);g(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(tr(s),0,0,0),e}}class ha extends P{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,s){switch(n){case"h":return N(L.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return R(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,s){const o=e.getHours()>=12;return o&&s<12?e.setHours(s+12,0,0,0):!o&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}}class fa extends P{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,s){switch(n){case"H":return N(L.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return R(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,s){return e.setHours(s,0,0,0),e}}class pa extends P{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,s){switch(n){case"K":return N(L.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return R(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}}class ga extends P{constructor(){super(...arguments);g(this,"priority",70);g(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,s){switch(n){case"k":return N(L.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return R(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,s){const o=s<=24?s%24:s;return e.setHours(o,0,0,0),e}}class ma extends P{constructor(){super(...arguments);g(this,"priority",60);g(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"m":return N(L.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return R(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setMinutes(s,0,0),e}}class ya extends P{constructor(){super(...arguments);g(this,"priority",50);g(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"s":return N(L.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return R(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setSeconds(s,0),e}}class wa extends P{constructor(){super(...arguments);g(this,"priority",30);g(this,"incompatibleTokens",["t","T"])}parse(e,n){const s=o=>Math.trunc(o*Math.pow(10,-n.length+3));return j(R(n.length,e),s)}set(e,n,s){return e.setMilliseconds(s),e}}class xa extends P{constructor(){super(...arguments);g(this,"priority",10);g(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return J(Z.basicOptionalMinutes,e);case"XX":return J(Z.basic,e);case"XXXX":return J(Z.basicOptionalSeconds,e);case"XXXXX":return J(Z.extendedOptionalSeconds,e);case"XXX":default:return J(Z.extended,e)}}set(e,n,s){return n.timestampIsSet?e:oe(e,e.getTime()-$r(e)-s)}}class ba extends P{constructor(){super(...arguments);g(this,"priority",10);g(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return J(Z.basicOptionalMinutes,e);case"xx":return J(Z.basic,e);case"xxxx":return J(Z.basicOptionalSeconds,e);case"xxxxx":return J(Z.extendedOptionalSeconds,e);case"xxx":default:return J(Z.extended,e)}}set(e,n,s){return n.timestampIsSet?e:oe(e,e.getTime()-$r(e)-s)}}class va extends P{constructor(){super(...arguments);g(this,"priority",40);g(this,"incompatibleTokens","*")}parse(e){return An(e)}set(e,n,s){return[oe(e,s*1e3),{timestampIsSet:!0}]}}class ka extends P{constructor(){super(...arguments);g(this,"priority",20);g(this,"incompatibleTokens","*")}parse(e){return An(e)}set(e,n,s){return[oe(e,s),{timestampIsSet:!0}]}}const Aa={G:new zi,y:new Yi,Y:new Hi,R:new Wi,u:new Gi,Q:new Qi,q:new qi,M:new Ki,L:new Ui,w:new Xi,I:new Ji,d:new ra,D:new na,E:new sa,e:new oa,c:new ia,i:new ca,a:new ua,b:new la,B:new da,h:new ha,H:new fa,K:new pa,k:new ga,m:new ma,s:new ya,S:new wa,X:new xa,x:new ba,t:new va,T:new ka},Ea=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ta=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Da=/^'([^]*?)'?$/,Ca=/''/g,Ia=/\S/,Ma=/[a-zA-Z]/;function Sa(t,r,e,n){var _,S,C,I;const s=()=>oe(e,NaN),o=Oi(),i=o.locale??$n,a=o.firstWeekContainsDate??((S=(_=o.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)??1,c=o.weekStartsOn??((I=(C=o.locale)==null?void 0:C.options)==null?void 0:I.weekStartsOn)??0,l={firstWeekContainsDate:a,weekStartsOn:c,locale:i},f=[new ji(n==null?void 0:n.in,e)],u=r.match(Ta).map(y=>{const k=y[0];if(k in or){const T=or[k];return T(y,i.formatLong)}return y}).join("").match(Ea),h=[];for(let y of u){Ln(y)&&ir(y,r,t),jn(y)&&ir(y,r,t);const k=y[0],T=Aa[k];if(T){const{incompatibleTokens:b}=T;if(Array.isArray(b)){const $=h.find(K=>b.includes(K.token)||K.token===k);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${y}\` at the same time`)}else if(T.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);h.push({token:k,fullToken:y});const B=T.run(t,y,i.match,l);if(!B)return s();f.push(B.setter),t=B.rest}else{if(k.match(Ma))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(y==="''"?y="'":k==="'"&&(y=_a(y)),t.indexOf(y)===0)t=t.slice(y.length);else return s()}}if(t.length>0&&Ia.test(t))return s();const p=f.map(y=>y.priority).sort((y,k)=>k-y).filter((y,k,T)=>T.indexOf(y)===k).map(y=>f.filter(k=>k.priority===y).sort((k,T)=>T.subPriority-k.subPriority)).map(y=>y[0]);let m=be(e,n==null?void 0:n.in);if(isNaN(+m))return s();const x={};for(const y of p){if(!y.validate(m,l))return s();const k=y.set(m,x,l);Array.isArray(k)?(m=k[0],Object.assign(x,k[1])):m=k}return m}function _a(t){return t.match(Da)[1].replace(Ca,"'")}const Pa="yyyy-MM-dd",Or=(t,r)=>{try{const e=Sa(r,Pa,t),n=ar(t),s=ar(e),o=Fi(s,n);return{overdue:o<0,dueSoon:o>0&&o<=7,dueToday:o===0}}catch{return}},Qt={state:"active",dueSoon:!1,dueToday:!1,overdue:!1},Fa=zn(({todos:t,searchText:r,onFiltered:e,initialFilters:n},s)=>{const[o,i]=H(n??Qt);Yn(s,()=>({clearFilters:()=>i(Qt)}));const a=Qe(()=>{const u=new Set;return t.forEach(h=>{h.projects.forEach(p=>u.add(p))}),Array.from(u)},[t]),c=Qe(()=>{const u=new Set;return t.forEach(h=>{h.contexts.forEach(p=>u.add(p))}),Array.from(u)},[t]),l=Qe(()=>{const u=new Date;return t.map(m=>Or(u,m.metadata.due??"")).reduce((m,x)=>(x==null||(m.overdue+=x.overdue?1:0,m.dueSoon+=x.dueSoon?1:0,m.dueToday+=x.dueToday?1:0),m),{overdue:0,dueSoon:0,dueToday:0})},[t]),f=Qe(()=>{let u=t,h;r!=""&&(h=new _e(t,{keys:["raw"],shouldSort:!0}),u=h.search(r).map(m=>m.item));const p=new Date;return u.filter(m=>{if(o.state==="active"&&m.completed||o.state==="completed"&&!m.completed||o.project!=null&&!m.projects.includes(o.project)||o.context!=null&&!m.contexts.includes(o.context))return!1;if(o.overdue||o.dueSoon||o.dueToday){const x=Or(p,m.metadata.due);if(x==null||o.overdue&&!x.overdue||o.dueSoon&&!x.dueSoon||o.dueToday&&!x.dueToday)return!1}return!0})},[t,r,o]);return Re(()=>{e(f,o)},[f,e,o]),d(Lr,{children:[d(Ue,{children:[d(Ve,{children:"State"}),d(le,{active:o.state==="active",onClick:()=>{i(u=>({...u,state:u.state==="active"?void 0:"active"}))},children:["Active",d(de,{children:t.filter(u=>!u.completed).length})]}),d(le,{active:o.state==="completed",onClick:()=>{i(u=>({...u,state:u.state==="completed"?void 0:"completed"}))},children:["Completed",d(de,{children:t.filter(u=>u.completed).length})]}),d(le,{active:o.state==null,onClick:()=>{i(u=>{const h={...u};return h.state=void 0,h})},children:["All Tasks",d(de,{children:t.length})]})]}),(l.overdue>0||l.dueSoon>0||l.dueToday>0)&&d(Ue,{children:[d(Ve,{children:"Due"}),l.overdue>0&&d(le,{active:o.overdue===!0,onClick:()=>{i(u=>{const h={...u,overdue:!u.overdue};return h.overdue&&(h.dueSoon=!1,h.dueToday=!1),h})},children:["Overdue",d(de,{children:l.overdue})]}),l.dueToday>0&&d(le,{active:o.dueToday===!0,onClick:()=>{i(u=>{const h={...u,dueToday:!u.dueToday};return h.dueToday&&(h.overdue=!1,h.dueSoon=!1),h})},children:["Due Today",d(de,{children:l.dueToday})]}),l.dueSoon>0&&d(le,{active:o.dueSoon===!0,onClick:()=>{i(u=>{const h={...u,dueSoon:!u.dueSoon};return h.dueSoon&&(h.overdue=!1,h.dueToday=!1),h})},children:["Due Soon",d(de,{children:l.dueSoon})]})]}),a.length>0&&d(Ue,{children:[d(Ve,{children:"Projects"}),a.map(u=>d(le,{active:o.project===u,onClick:()=>{i(h=>{const p={...h};return p.project===u?p.project=void 0:p.project=u,p})},children:["+",u,d(de,{children:t.filter(h=>h.projects.includes(u)).length})]},u))]}),c.length>0&&d(Ue,{children:[d(Ve,{children:"Contexts"}),c.map(u=>d(le,{active:o.context===u,onClick:()=>{i(h=>{const p={...h};return p.context===u?p.context=void 0:p.context=u,p})},children:["@",u,d(de,{children:t.filter(h=>h.contexts.includes(u)).length})]},u))]})]})}),Oa=Vs`
  * {
    box-sizing: border-box;
  }
`,Ba=({fileContents:t,onFileChanged:r,editingDisabled:e,isMobile:n,initialFilters:s,onFiltered:o})=>{const[i,a]=H(n||window.innerWidth>768),[c,l]=H(Xs(t)),[f,u]=H(!1),[h,p]=H(null),[m,x]=H(""),[_,S]=H(c),C=Hn(null);Re(()=>{r(ro(c))},[r,c]);const I=()=>{window.innerWidth<=768&&a(!1)};Re(()=>{if(n)return;const D=()=>{a(window.innerWidth>768)};return window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}},[n]);const y=(D,w)=>{if(w!=null){const A=[...c];A[w]=D,l(A)}else{const A=[D,...c];l(A)}u(!1)},k=()=>{p(null),u(!1)},T=D=>{const w=[...c],A=c.findIndex(Y=>Y===_[D]);if(A!==-1){const Y={...w[A]};Y.completed=!Y.completed,Y.completed?Y.completionDate=new Date:Y.completionDate=void 0,Y.raw=Jt(Y),w[A]=Y,l(w)}},b=()=>{p(null),u(!0)},B=D=>{const w=c.findIndex(A=>A===_[D]);w!==-1&&(p(w),u(!0))},$=D=>{const w=c.findIndex(A=>A===_[D]);if(w!==-1){const A=[...c];A.splice(w,1),l(A)}},K=D=>D?D.toISOString().split("T")[0]:"";return d(Lr,{children:[d(Oa,{}),d(no,{children:[d(lo,{isOpen:i,children:d(ho,{children:d(Fa,{todos:c,onFiltered:(D,w)=>{S(D),o(w)},searchText:m,initialFilters:s,ref:C})})}),d(io,{isOpen:i&&window.innerWidth<=768,onClick:I}),d(oo,{children:[d(Ao,{children:[d(To,{onClick:()=>{a(!i)},children:d(ao,{})}),d(qo,{value:m,onChange:x}),!e&&d(Eo,{onClick:b,children:d("span",{children:"+ Add Task"})})]}),d(fo,{children:_.length===0?d(Do,{children:[d(Co,{children:"📝"}),d(Io,{children:"No tasks match your current filters"}),d(mt,{onClick:()=>{var D;(D=C.current)==null||D.clearFilters(),x("")},children:"Clear filters"})]}):_.map((D,w)=>d(po,{completed:D.completed,children:[!e&&d(go,{type:"checkbox",checked:D.completed,onChange:()=>{T(w)}}),d(mo,{children:[d(yo,{completed:D.completed,children:D.description}),d(wo,{children:[D.priority&&d(xo,{priority:D.priority,children:["Priority ",D.priority]}),D.completionDate&&d(kr,{children:["Completed: ",K(D.completionDate)]}),D.projects.map(A=>d(bo,{children:["+",A]},A)),D.contexts.map(A=>d(vo,{children:["@",A]},A)),Object.entries(D.metadata).map(([A,Y])=>d(ko,{children:[A,":",Y]},A)),D.creationDate&&d(kr,{children:["Created: ",K(D.creationDate)]})]})]}),!e&&d(Lo,{children:[d(Dr,{color:"warning",onClick:()=>{B(w)},children:d(uo,{})}),d(Dr,{color:"danger",onClick:()=>{$(w)},children:d(co,{})})]})]},w))})]})]}),f&&d(Qo,{onSave:y,onCancel:k,editContext:h!=null?{index:h,item:c[h]}:void 0})]})},Na=()=>{var s;const[t,r]=H(ne.text),[e,n]=H(((s=ne.meta)==null?void 0:s.lastUsedFilters)??Qt);return Re(()=>{ne.text=t},[t]),Re(()=>{ne.meta={...ne.meta??{},lastUsedFilters:e}},[e]),d(Ba,{fileContents:t,onFileChanged:r,editingDisabled:ne.locked,isMobile:ne.isRunningInMobileApplication,initialFilters:e,onFiltered:n})},Ra=Wn(document.getElementById("root")),$a=()=>{Ra.render(d(ee.StrictMode,{children:d(Na,{})}))};ne.initialize({debounceSave:400});ne.subscribe(()=>{$a()});
