var m=Object.defineProperty;var h=(n,e,t)=>e in n?m(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var o=(n,e,t)=>h(n,typeof e!="symbol"?e+"":e,t);import"./modulepreload-polyfill.B5Qt9EMX.js";import{A as g,d as c,u as a,c as p,R as u}from"./client.By9c5E1B.js";const D={title:"TODO.txt Editor",text:`
(A) Call Mom @phone +Family
(B) Schedule dentist appointment @phone +Health due:2025-04-15
x 2025-03-25 Submit tax returns @computer +Finance
x 2025-03-30 2025-03-15 Fix leaky faucet @home +Repairs
Buy milk and eggs @store +Shopping
(C) Prepare presentation for meeting @work +Project due:2025-04-10
Research new programming language +Learning @computer
x 2025-03-28 Pay electricity bill @finance due:2025-03-25
(A) 2025-03-20 Write blog post about productivity @computer +Writing
`},k={action:"component-registered",sessionKey:"c46be650-73b9-468b-b6b2-d0a4ca1ccc84",componentData:{},data:{uuid:"f43056da-581f-4ee1-8dea-b8dd5ee949ad",environment:"web",platform:"windows-web",activeThemeUrls:[]}},v={item:{uuid:"ec677a63-5fae-440e-84cd-a62ae7c7d894",content_type:"Note",created_at:"2023-03-26T02:01:59.462Z",updated_at:"2023-03-27T00:18:36.199Z",isMetadataUpdate:!1,content:{text:"Hello World",title:"Test",noteType:"unknown",editorIdentifier:"template",references:[],appData:{"org.standardnotes.sn":{client_updated_at:"2023-03-27T00:18:36.483Z"}},spellcheck:!1,preview_plain:" ",preview_html:"<div> </div>"},clientData:{}}};let r={};class T{constructor(e,t){o(this,"childWindow");o(this,"streamEvent");o(this,"streamData");this.onSave=t,this.updateStream(e),window.addEventListener("message",this.handleMessage.bind(this))}onReady(e){this.childWindow=e,e.postMessage({...k,componentData:r})}toggleLock(e){this.streamData.item.content.appData["org.standardnotes.sn"].locked=e,this.childWindow.postMessage({action:"reply",data:this.streamData,original:this.streamEvent},"*")}toggleTheme(e){const t=e?["dark.css"]:[];this.childWindow.postMessage({action:"themes",data:{themes:t}},"*")}changeData(e){this.updateStream(e),this.childWindow.postMessage({action:"reply",data:this.streamData,original:this.streamEvent},"*")}handleMessage(e){const{data:t}=e;t.action==="stream-context-item"?(this.streamEvent=t,this.childWindow.postMessage({action:"reply",data:this.streamData,original:t},"*")):t.action==="save-items"?(this.onSave(),this.childWindow.postMessage({action:"reply",data:{},original:t},"*")):t.action==="set-component-data"&&(r=t.data.componentData)}updateStream(e){this.streamData=JSON.parse(JSON.stringify(v)),this.streamData.item.content.text=e.text,this.streamData.item.content.appData[this.streamData.item.content.editorIdentifier]=e.meta}}const s=new T(D,()=>{const n=document.getElementById("last-saved");n&&(n.textContent=`Last Saved: ${new Date().toLocaleTimeString()}`)}),b=()=>{const n=g(void 0),[e,t]=c(!1),[d,l]=c("dark");return a("div",{className:"demo",children:a("div",{className:"content",children:[a("div",{className:"content-header",children:[a("div",{children:[a("input",{id:"editingDisabled",type:"checkbox",checked:e,onChange:i=>{t(i.target.checked),s.toggleLock(i.target.checked)}}),a("label",{htmlFor:"editingDisabled",children:" Editing Disabled"})]}),a("div",{children:[a("input",{id:"isDark",type:"checkbox",checked:d==="dark",onChange:i=>{l(i.target.checked?"dark":"light"),s.toggleTheme(i.target.checked)}}),a("label",{htmlFor:"isDark",children:" Dark Mode (Midnight Theme)"})]}),a("div",{id:"last-saved"})]}),a("iframe",{ref:n,src:"index.html",onLoad:()=>{s.onReady(n.current.contentWindow),s.toggleTheme(d=="dark")}})]})})};p(document.getElementById("root")).render(a(u.StrictMode,{children:a(b,{})}));
