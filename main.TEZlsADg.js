var In=Object.defineProperty;var Mn=(t,r,e)=>r in t?In(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var w=(t,r,e)=>Mn(t,typeof r!="symbol"?r+"":r,e);import{R as ee,x as Sn,_ as _n,u as f,k as H,n as Pn,d as Fn,e as Nr,t as xe,o as oe,p as On,q as Bn,r as Rn,c as Nn,s as Mt,v as $r,a as $n,g as Ln,j as Lr,y as jr,f as jn,l as sr,i as zn,w as or,h as Yn,D as Hn,F as Wn,T as Ge,z as Re,B as zr,C as ir,A as Gn,m as Qn}from"./protectedTokens.4Xsm3FXx.js";function qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xt={exports:{}},ar;function Kn(){return ar||(ar=1,function(t,r){(function(e,n){t.exports=n()})(self,()=>(()=>{var e,n,s={d:(i,c)=>{for(var l in c)s.o(c,l)&&!s.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:c[l]})},o:(i,c)=>Object.prototype.hasOwnProperty.call(i,c)},o={};s.d(o,{default:()=>a}),function(i){i.StreamContextItem="stream-context-item",i.SaveItems="save-items",i.ComponentRegistered="component-registered",i.ActivateThemes="themes",i.ThemesActivated="themes-activated",i.SetComponentData="set-component-data"}(e||(e={})),function(i){i.Component="component"}(n||(n={}));const a=new class{constructor(){this.component={activeThemes:[],acceptsThemes:!0},this.sentMessages=[],this.messageQueue=[],this.subscriptions=[],this.generateNotePreview=!0}initialize(i={}){if(this.contentWindow)throw"Cannot initialize mediator more than once";this.contentWindow=window,this.coallesedSavingDelay=i.debounceSave!==void 0?i.debounceSave:250,this.registerMessageHandler(),this.postMessage(e.StreamContextItem,{},c=>{const{item:l}=c;(!this.lastStreamedItem||this.lastStreamedItem.uuid!==l.uuid)&&this.pendingSaveTimeout&&(clearTimeout(this.pendingSaveTimeout),this.performSavingOfItems(this.pendingSaveParams),this.pendingSaveTimeout=void 0,this.pendingSaveParams=void 0),this.lastStreamedItem=l,this.lastStreamedItem.isMetadataUpdate||this.subscriptions.forEach(h=>{h(this.text,this.meta)})})}subscribe(i){return this.subscriptions.push(i),this.lastStreamedItem&&setTimeout(()=>{i(this.text,this.meta)}),()=>{const c=this.subscriptions.indexOf(i);c>=0&&this.subscriptions.splice(c,1)}}get text(){var i,c;return this.checkNoteExists(),((c=(i=this.lastStreamedItem)===null||i===void 0?void 0:i.content)===null||c===void 0?void 0:c.text)||""}get meta(){var i;return this.checkNoteExists(),!((i=this.lastStreamedItem)===null||i===void 0)&&i.content?this.lastStreamedItem.content.appData[this.lastStreamedItem.content.editorIdentifier]:{}}get extensionMeta(){return this.component.data}get locked(){var i,c;return this.checkNoteExists(),(c=(i=this.lastStreamedItem)===null||i===void 0?void 0:i.content)===null||c===void 0?void 0:c.appData["org.standardnotes.sn"].locked}get preview(){var i,c;return this.checkNoteExists(),(c=(i=this.lastStreamedItem)===null||i===void 0?void 0:i.content)===null||c===void 0?void 0:c.preview_plain}set text(i){this.checkNoteExists(),this.lastStreamedItem.content.text=i,this.saveNote(this.lastStreamedItem)}set preview(i){this.checkNoteExists(),this.generateNotePreview=!1,this.lastStreamedItem.content.preview_plain=i}set meta(i){this.checkNoteExists(),this.lastStreamedItem.content.appData[this.lastStreamedItem.content.editorIdentifier]=i,this.saveNote(this.lastStreamedItem)}set extensionMeta(i){this.component.data=i,this.postMessage(e.SetComponentData,{componentData:i})}registerMessageHandler(){this.messageHandler=i=>{if(document.referrer&&new URL(document.referrer).origin!==new URL(i.origin).origin)return;const{data:c}=i,l=(h=>{if(typeof h!="string")return!1;try{const u=JSON.parse(h),d=Object.prototype.toString.call(u);return d==="[object Object]"||d==="[object Array]"}catch{return!1}})(c)?JSON.parse(c):c;l&&this.handleMessage(l)},this.contentWindow.document.addEventListener("message",this.messageHandler,!1),this.contentWindow.addEventListener("message",this.messageHandler,!1)}handleMessage(i){var c,l;switch(i.action){case e.ComponentRegistered:this.component.sessionKey=i.sessionKey,i.componentData&&(this.component.data=i.componentData),this.onReady(i.data);break;case e.ActivateThemes:this.activateThemes(i.data.themes);break;default:{if(!i.original)return;const h=(c=this.sentMessages)===null||c===void 0?void 0:c.filter(u=>{var d;return u.messageId===((d=i.original)===null||d===void 0?void 0:d.messageId)})[0];if(!h)return;(l=h==null?void 0:h.callback)===null||l===void 0||l.call(h,i.data);break}}}onReady(i){this.component.environment=i.environment,this.component.platform=i.platform,this.component.uuid=i.uuid;for(const c of this.messageQueue)this.postMessage(c.action,c.data,c.callback);this.messageQueue=[],this.activateThemes(i.activeThemeUrls||[]),this.postMessage(e.ThemesActivated,{})}get isRunningInDesktopApplication(){return this.component.environment==="desktop"}get isRunningInMobileApplication(){return this.component.environment==="mobile"}get isRunningInBrowser(){return this.component.environment==="web"}postMessage(i,c,l){if(!this.component.sessionKey)return void this.messageQueue.push({action:i,data:c,api:n.Component,callback:l});const h={action:i,data:c,messageId:this.generateUUID(),sessionKey:this.component.sessionKey,api:n.Component},u=JSON.parse(JSON.stringify(h));let d;u.callback=l,this.sentMessages.push(u),d=this.isRunningInMobileApplication?JSON.stringify(h):h,this.contentWindow.parent.postMessage(d,"*")}activateThemes(i=[]){if(!this.component.acceptsThemes)return;const{activeThemes:c}=this.component;if(c&&c.sort().toString()==i.sort().toString())return;let l=i;const h=[];for(const u of c)i.includes(u)?l=l.filter(d=>d!==u):h.push(u);for(const u of h)this.deactivateTheme(u);this.component.activeThemes=i;for(const u of l){if(!u)continue;const d=u.endsWith("/org.standardnotes.theme-focus/index.css")?"https://app.standardnotes.com/components/assets/org.standardnotes.theme-focus/index.css":u,p=this.contentWindow.document.createElement("link");p.id=btoa(u),p.href=d,p.type="text/css",p.rel="stylesheet",p.media="screen,print",p.className="custom-theme",this.contentWindow.document.getElementsByTagName("head")[0].appendChild(p)}this.onThemesChangeCallback&&this.onThemesChangeCallback()}themeElementForUrl(i){return Array.from(this.contentWindow.document.getElementsByClassName("custom-theme")).slice().find(c=>c.id==btoa(i))}deactivateTheme(i){const c=this.themeElementForUrl(i);c&&c.parentNode&&(c.setAttribute("disabled","true"),c.parentNode.removeChild(c))}generateUUID(){return crypto.randomUUID()}get platform(){return this.component.platform}get environment(){return this.component.environment}performSavingOfItems({items:i,callback:c}){this.generateNotePreview&&(i[0].content.preview_plain=((h,u=50)=>h.length<=u?h:h.substring(0,u)+"...")(i[0].content.text));const l=[];for(const h of i)l.push(this.jsonObjectForItem(h));this.postMessage(e.SaveItems,{items:l},()=>{c==null||c()})}saveNote(i,c){const l=[i];if(this.pendingSaveItems||(this.pendingSaveItems=[]),this.coallesedSavingDelay){this.pendingSaveTimeout&&clearTimeout(this.pendingSaveTimeout);const h=l.map(d=>d.uuid),u=this.pendingSaveItems.filter(d=>!h.includes(d.uuid));this.pendingSaveItems=u.concat(l),this.pendingSaveParams={items:this.pendingSaveItems,callback:c},this.pendingSaveTimeout=setTimeout(()=>{this.performSavingOfItems(this.pendingSaveParams),this.pendingSaveItems=[],this.pendingSaveTimeout=void 0,this.pendingSaveParams=null},this.coallesedSavingDelay)}else this.performSavingOfItems({items:l,callback:c})}jsonObjectForItem(i){const c=Object.assign({},i);return c.children=null,c.parent=null,c}checkNoteExists(){if(!this.lastStreamedItem)throw"Trying to interact with note before it is received from Standard Notes. Use subscribe function."}};return o.default})())}(xt)),xt.exports}var Un=Kn();const ne=qn(Un);var G=function(){return G=Object.assign||function(r){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},G.apply(this,arguments)};function Ne(t,r,e){if(e||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))}var O="-ms-",Be="-moz-",F="-webkit-",Yr="comm",ut="rule",Qt="decl",Xn="@import",Hr="@keyframes",Vn="@layer",Wr=Math.abs,qt=String.fromCharCode,St=Object.assign;function Zn(t,r){return W(t,0)^45?(((r<<2^W(t,0))<<2^W(t,1))<<2^W(t,2))<<2^W(t,3):0}function Gr(t){return t.trim()}function se(t,r){return(t=r.exec(t))?t[0]:t}function M(t,r,e){return t.replace(r,e)}function Ve(t,r,e){return t.indexOf(r,e)}function W(t,r){return t.charCodeAt(r)|0}function Ee(t,r,e){return t.slice(r,e)}function V(t){return t.length}function Qr(t){return t.length}function Oe(t,r){return r.push(t),t}function Jn(t,r){return t.map(r).join("")}function cr(t,r){return t.filter(function(e){return!se(e,r)})}var lt=1,Ce=1,qr=0,U=0,z=0,Me="";function dt(t,r,e,n,s,o,a,i){return{value:t,root:r,parent:e,type:n,props:s,children:o,line:lt,column:Ce,length:a,return:"",siblings:i}}function he(t,r){return St(dt("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},r)}function be(t){for(;t.root;)t=he(t.root,{children:[t]});Oe(t,t.siblings)}function es(){return z}function ts(){return z=U>0?W(Me,--U):0,Ce--,z===10&&(Ce=1,lt--),z}function X(){return z=U<qr?W(Me,U++):0,Ce++,z===10&&(Ce=1,lt++),z}function we(){return W(Me,U)}function Ze(){return U}function ht(t,r){return Ee(Me,t,r)}function _t(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rs(t){return lt=Ce=1,qr=V(Me=t),U=0,[]}function ns(t){return Me="",t}function bt(t){return Gr(ht(U-1,Pt(t===91?t+2:t===40?t+1:t)))}function ss(t){for(;(z=we())&&z<33;)X();return _t(t)>2||_t(z)>3?"":" "}function os(t,r){for(;--r&&X()&&!(z<48||z>102||z>57&&z<65||z>70&&z<97););return ht(t,Ze()+(r<6&&we()==32&&X()==32))}function Pt(t){for(;X();)switch(z){case t:return U;case 34:case 39:t!==34&&t!==39&&Pt(z);break;case 40:t===41&&Pt(t);break;case 92:X();break}return U}function is(t,r){for(;X()&&t+z!==57;)if(t+z===84&&we()===47)break;return"/*"+ht(r,U-1)+"*"+qt(t===47?t:X())}function as(t){for(;!_t(we());)X();return ht(t,U)}function cs(t){return ns(Je("",null,null,null,[""],t=rs(t),0,[0],t))}function Je(t,r,e,n,s,o,a,i,c){for(var l=0,h=0,u=a,d=0,p=0,g=0,x=1,_=1,S=1,T=0,I="",m=s,k=o,C=n,b=I;_;)switch(g=T,T=X()){case 40:if(g!=108&&W(b,u-1)==58){Ve(b+=M(bt(T),"&","&\f"),"&\f",Wr(l?i[l-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:b+=bt(T);break;case 9:case 10:case 13:case 32:b+=ss(g);break;case 92:b+=os(Ze()-1,7);continue;case 47:switch(we()){case 42:case 47:Oe(us(is(X(),Ze()),r,e,c),c);break;default:b+="/"}break;case 123*x:i[l++]=V(b)*S;case 125*x:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+h:S==-1&&(b=M(b,/\f/g,"")),p>0&&V(b)-u&&Oe(p>32?lr(b+";",n,e,u-1,c):lr(M(b," ","")+";",n,e,u-2,c),c);break;case 59:b+=";";default:if(Oe(C=ur(b,r,e,l,h,s,i,I,m=[],k=[],u,o),o),T===123)if(h===0)Je(b,r,C,C,m,o,u,i,k);else switch(d===99&&W(b,3)===110?100:d){case 100:case 108:case 109:case 115:Je(t,C,C,n&&Oe(ur(t,C,C,0,0,s,i,I,s,m=[],u,k),k),s,k,u,i,n?m:k);break;default:Je(b,C,C,C,[""],k,0,i,k)}}l=h=p=0,x=S=1,I=b="",u=a;break;case 58:u=1+V(b),p=g;default:if(x<1){if(T==123)--x;else if(T==125&&x++==0&&ts()==125)continue}switch(b+=qt(T),T*x){case 38:S=h>0?1:(b+="\f",-1);break;case 44:i[l++]=(V(b)-1)*S,S=1;break;case 64:we()===45&&(b+=bt(X())),d=we(),h=u=V(I=b+=as(Ze())),T++;break;case 45:g===45&&V(b)==2&&(x=0)}}return o}function ur(t,r,e,n,s,o,a,i,c,l,h,u){for(var d=s-1,p=s===0?o:[""],g=Qr(p),x=0,_=0,S=0;x<n;++x)for(var T=0,I=Ee(t,d+1,d=Wr(_=a[x])),m=t;T<g;++T)(m=Gr(_>0?p[T]+" "+I:M(I,/&\f/g,p[T])))&&(c[S++]=m);return dt(t,r,e,s===0?ut:i,c,l,h,u)}function us(t,r,e,n){return dt(t,r,e,Yr,qt(es()),Ee(t,2,-2),0,n)}function lr(t,r,e,n,s){return dt(t,r,e,Qt,Ee(t,0,n),Ee(t,n+1,-1),n,s)}function Kr(t,r,e){switch(Zn(t,r)){case 5103:return F+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+t+t;case 4789:return Be+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return F+t+Be+t+O+t+t;case 5936:switch(W(t,r+11)){case 114:return F+t+O+M(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return F+t+O+M(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return F+t+O+M(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return F+t+O+t+t;case 6165:return F+t+O+"flex-"+t+t;case 5187:return F+t+M(t,/(\w+).+(:[^]+)/,F+"box-$1$2"+O+"flex-$1$2")+t;case 5443:return F+t+O+"flex-item-"+M(t,/flex-|-self/g,"")+(se(t,/flex-|baseline/)?"":O+"grid-row-"+M(t,/flex-|-self/g,""))+t;case 4675:return F+t+O+"flex-line-pack"+M(t,/align-content|flex-|-self/g,"")+t;case 5548:return F+t+O+M(t,"shrink","negative")+t;case 5292:return F+t+O+M(t,"basis","preferred-size")+t;case 6060:return F+"box-"+M(t,"-grow","")+F+t+O+M(t,"grow","positive")+t;case 4554:return F+M(t,/([^-])(transform)/g,"$1"+F+"$2")+t;case 6187:return M(M(M(t,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),t,"")+t;case 5495:case 3959:return M(t,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return M(M(t,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+O+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+t+t;case 4200:if(!se(t,/flex-|baseline/))return O+"grid-column-align"+Ee(t,r)+t;break;case 2592:case 3360:return O+M(t,"template-","")+t;case 4384:case 3616:return e&&e.some(function(n,s){return r=s,se(n.props,/grid-\w+-end/)})?~Ve(t+(e=e[r].value),"span",0)?t:O+M(t,"-start","")+t+O+"grid-row-span:"+(~Ve(e,"span",0)?se(e,/\d+/):+se(e,/\d+/)-+se(t,/\d+/))+";":O+M(t,"-start","")+t;case 4896:case 4128:return e&&e.some(function(n){return se(n.props,/grid-\w+-start/)})?t:O+M(M(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return M(t,/(.+)-inline(.+)/,F+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(V(t)-1-r>6)switch(W(t,r+1)){case 109:if(W(t,r+4)!==45)break;case 102:return M(t,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+Be+(W(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~Ve(t,"stretch",0)?Kr(M(t,"stretch","fill-available"),r,e)+t:t}break;case 5152:case 5920:return M(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,o,a,i,c,l){return O+s+":"+o+l+(a?O+s+"-span:"+(i?c:+c-+o)+l:"")+t});case 4949:if(W(t,r+6)===121)return M(t,":",":"+F)+t;break;case 6444:switch(W(t,W(t,14)===45?18:11)){case 120:return M(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+F+(W(t,14)===45?"inline-":"")+"box$3$1"+F+"$2$3$1"+O+"$2box$3")+t;case 100:return M(t,":",":"+O)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return M(t,"scroll-","scroll-snap-")+t}return t}function rt(t,r){for(var e="",n=0;n<t.length;n++)e+=r(t[n],n,t,r)||"";return e}function ls(t,r,e,n){switch(t.type){case Vn:if(t.children.length)break;case Xn:case Qt:return t.return=t.return||t.value;case Yr:return"";case Hr:return t.return=t.value+"{"+rt(t.children,n)+"}";case ut:if(!V(t.value=t.props.join(",")))return""}return V(e=rt(t.children,n))?t.return=t.value+"{"+e+"}":""}function ds(t){var r=Qr(t);return function(e,n,s,o){for(var a="",i=0;i<r;i++)a+=t[i](e,n,s,o)||"";return a}}function hs(t){return function(r){r.root||(r=r.return)&&t(r)}}function fs(t,r,e,n){if(t.length>-1&&!t.return)switch(t.type){case Qt:t.return=Kr(t.value,t.length,e);return;case Hr:return rt([he(t,{value:M(t.value,"@","@"+F)})],n);case ut:if(t.length)return Jn(e=t.props,function(s){switch(se(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":be(he(t,{props:[M(s,/:(read-\w+)/,":"+Be+"$1")]})),be(he(t,{props:[s]})),St(t,{props:cr(e,n)});break;case"::placeholder":be(he(t,{props:[M(s,/:(plac\w+)/,":"+F+"input-$1")]})),be(he(t,{props:[M(s,/:(plac\w+)/,":"+Be+"$1")]})),be(he(t,{props:[M(s,/:(plac\w+)/,O+"input-$1")]})),be(he(t,{props:[s]})),St(t,{props:cr(e,n)});break}return""})}}var ps={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Q={},De=typeof process<"u"&&Q!==void 0&&(Q.REACT_APP_SC_ATTR||Q.SC_ATTR)||"data-styled",Ur="active",Xr="data-styled-version",ft="6.1.16",Kt=`/*!sc*/
`,nt=typeof window<"u"&&"HTMLElement"in window,gs=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Q!==void 0&&Q.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Q.REACT_APP_SC_DISABLE_SPEEDY!==""?Q.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Q.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Q!==void 0&&Q.SC_DISABLE_SPEEDY!==void 0&&Q.SC_DISABLE_SPEEDY!==""&&Q.SC_DISABLE_SPEEDY!=="false"&&Q.SC_DISABLE_SPEEDY),ms={},pt=Object.freeze([]),Te=Object.freeze({});function Vr(t,r,e){return e===void 0&&(e=Te),t.theme!==e.theme&&t.theme||r||e.theme}var Zr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),ys=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ws=/(^-|-$)/g;function dr(t){return t.replace(ys,"-").replace(ws,"")}var xs=/(a)(d)/gi,Qe=52,hr=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ft(t){var r,e="";for(r=Math.abs(t);r>Qe;r=r/Qe|0)e=hr(r%Qe)+e;return(hr(r%Qe)+e).replace(xs,"$1-$2")}var vt,Jr=5381,Ae=function(t,r){for(var e=r.length;e;)t=33*t^r.charCodeAt(--e);return t},en=function(t){return Ae(Jr,t)};function tn(t){return Ft(en(t)>>>0)}function bs(t){return t.displayName||t.name||"Component"}function kt(t){return typeof t=="string"&&!0}var rn=typeof Symbol=="function"&&Symbol.for,nn=rn?Symbol.for("react.memo"):60115,vs=rn?Symbol.for("react.forward_ref"):60112,ks={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},As={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Es=((vt={})[vs]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vt[nn]=sn,vt);function fr(t){return("type"in(r=t)&&r.type.$$typeof)===nn?sn:"$$typeof"in t?Es[t.$$typeof]:ks;var r}var Cs=Object.defineProperty,Ds=Object.getOwnPropertyNames,pr=Object.getOwnPropertySymbols,Ts=Object.getOwnPropertyDescriptor,Is=Object.getPrototypeOf,gr=Object.prototype;function on(t,r,e){if(typeof r!="string"){if(gr){var n=Is(r);n&&n!==gr&&on(t,n,e)}var s=Ds(r);pr&&(s=s.concat(pr(r)));for(var o=fr(t),a=fr(r),i=0;i<s.length;++i){var c=s[i];if(!(c in As||e&&e[c]||a&&c in a||o&&c in o)){var l=Ts(r,c);try{Cs(t,c,l)}catch{}}}}return t}function Ie(t){return typeof t=="function"}function Ut(t){return typeof t=="object"&&"styledComponentId"in t}function ye(t,r){return t&&r?"".concat(t," ").concat(r):t||r||""}function Ot(t,r){if(t.length===0)return"";for(var e=t[0],n=1;n<t.length;n++)e+=t[n];return e}function $e(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Bt(t,r,e){if(e===void 0&&(e=!1),!e&&!$e(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var n=0;n<r.length;n++)t[n]=Bt(t[n],r[n]);else if($e(r))for(var n in r)t[n]=Bt(t[n],r[n]);return t}function Xt(t,r){Object.defineProperty(t,"toString",{value:r})}function Le(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(r.length>0?" Args: ".concat(r.join(", ")):""))}var Ms=function(){function t(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}return t.prototype.indexOfGroup=function(r){for(var e=0,n=0;n<r;n++)e+=this.groupSizes[n];return e},t.prototype.insertRules=function(r,e){if(r>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,o=s;r>=o;)if((o<<=1)<0)throw Le(16,"".concat(r));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var i=this.indexOfGroup(r+1),c=(a=0,e.length);a<c;a++)this.tag.insertRule(i,e[a])&&(this.groupSizes[r]++,i++)},t.prototype.clearGroup=function(r){if(r<this.length){var e=this.groupSizes[r],n=this.indexOfGroup(r),s=n+e;this.groupSizes[r]=0;for(var o=n;o<s;o++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(r){var e="";if(r>=this.length||this.groupSizes[r]===0)return e;for(var n=this.groupSizes[r],s=this.indexOfGroup(r),o=s+n,a=s;a<o;a++)e+="".concat(this.tag.getRule(a)).concat(Kt);return e},t}(),et=new Map,st=new Map,tt=1,qe=function(t){if(et.has(t))return et.get(t);for(;st.has(tt);)tt++;var r=tt++;return et.set(t,r),st.set(r,t),r},Ss=function(t,r){tt=r+1,et.set(t,r),st.set(r,t)},_s="style[".concat(De,"][").concat(Xr,'="').concat(ft,'"]'),Ps=new RegExp("^".concat(De,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Fs=function(t,r,e){for(var n,s=e.split(","),o=0,a=s.length;o<a;o++)(n=s[o])&&t.registerName(r,n)},Os=function(t,r){for(var e,n=((e=r.textContent)!==null&&e!==void 0?e:"").split(Kt),s=[],o=0,a=n.length;o<a;o++){var i=n[o].trim();if(i){var c=i.match(Ps);if(c){var l=0|parseInt(c[1],10),h=c[2];l!==0&&(Ss(h,l),Fs(t,h,c[3]),t.getTag().insertRules(l,s)),s.length=0}else s.push(i)}}},mr=function(t){for(var r=document.querySelectorAll(_s),e=0,n=r.length;e<n;e++){var s=r[e];s&&s.getAttribute(De)!==Ur&&(Os(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function Bs(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var an=function(t){var r=document.head,e=t||r,n=document.createElement("style"),s=function(i){var c=Array.from(i.querySelectorAll("style[".concat(De,"]")));return c[c.length-1]}(e),o=s!==void 0?s.nextSibling:null;n.setAttribute(De,Ur),n.setAttribute(Xr,ft);var a=Bs();return a&&n.setAttribute("nonce",a),e.insertBefore(n,o),n},Rs=function(){function t(r){this.element=an(r),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,s=0,o=n.length;s<o;s++){var a=n[s];if(a.ownerNode===e)return a}throw Le(17)}(this.element),this.length=0}return t.prototype.insertRule=function(r,e){try{return this.sheet.insertRule(e,r),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(r){this.sheet.deleteRule(r),this.length--},t.prototype.getRule=function(r){var e=this.sheet.cssRules[r];return e&&e.cssText?e.cssText:""},t}(),Ns=function(){function t(r){this.element=an(r),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(r,e){if(r<=this.length&&r>=0){var n=document.createTextNode(e);return this.element.insertBefore(n,this.nodes[r]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(r){this.element.removeChild(this.nodes[r]),this.length--},t.prototype.getRule=function(r){return r<this.length?this.nodes[r].textContent:""},t}(),$s=function(){function t(r){this.rules=[],this.length=0}return t.prototype.insertRule=function(r,e){return r<=this.length&&(this.rules.splice(r,0,e),this.length++,!0)},t.prototype.deleteRule=function(r){this.rules.splice(r,1),this.length--},t.prototype.getRule=function(r){return r<this.length?this.rules[r]:""},t}(),yr=nt,Ls={isServer:!nt,useCSSOMInjection:!gs},ot=function(){function t(r,e,n){r===void 0&&(r=Te),e===void 0&&(e={});var s=this;this.options=G(G({},Ls),r),this.gs=e,this.names=new Map(n),this.server=!!r.isServer,!this.server&&nt&&yr&&(yr=!1,mr(this)),Xt(this,function(){return function(o){for(var a=o.getTag(),i=a.length,c="",l=function(u){var d=function(S){return st.get(S)}(u);if(d===void 0)return"continue";var p=o.names.get(d),g=a.getGroup(u);if(p===void 0||!p.size||g.length===0)return"continue";var x="".concat(De,".g").concat(u,'[id="').concat(d,'"]'),_="";p!==void 0&&p.forEach(function(S){S.length>0&&(_+="".concat(S,","))}),c+="".concat(g).concat(x,'{content:"').concat(_,'"}').concat(Kt)},h=0;h<i;h++)l(h);return c}(s)})}return t.registerId=function(r){return qe(r)},t.prototype.rehydrate=function(){!this.server&&nt&&mr(this)},t.prototype.reconstructWithOptions=function(r,e){return e===void 0&&(e=!0),new t(G(G({},this.options),r),this.gs,e&&this.names||void 0)},t.prototype.allocateGSInstance=function(r){return this.gs[r]=(this.gs[r]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(r=function(e){var n=e.useCSSOMInjection,s=e.target;return e.isServer?new $s(s):n?new Rs(s):new Ns(s)}(this.options),new Ms(r)));var r},t.prototype.hasNameForId=function(r,e){return this.names.has(r)&&this.names.get(r).has(e)},t.prototype.registerName=function(r,e){if(qe(r),this.names.has(r))this.names.get(r).add(e);else{var n=new Set;n.add(e),this.names.set(r,n)}},t.prototype.insertRules=function(r,e,n){this.registerName(r,e),this.getTag().insertRules(qe(r),n)},t.prototype.clearNames=function(r){this.names.has(r)&&this.names.get(r).clear()},t.prototype.clearRules=function(r){this.getTag().clearGroup(qe(r)),this.clearNames(r)},t.prototype.clearTag=function(){this.tag=void 0},t}(),js=/&/g,zs=/^\s*\/\/.*$/gm;function cn(t,r){return t.map(function(e){return e.type==="rule"&&(e.value="".concat(r," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(r," ")),e.props=e.props.map(function(n){return"".concat(r," ").concat(n)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=cn(e.children,r)),e})}function Ys(t){var r,e,n,s=Te,o=s.options,a=o===void 0?Te:o,i=s.plugins,c=i===void 0?pt:i,l=function(d,p,g){return g.startsWith(e)&&g.endsWith(e)&&g.replaceAll(e,"").length>0?".".concat(r):d},h=c.slice();h.push(function(d){d.type===ut&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(js,e).replace(n,l))}),a.prefix&&h.push(fs),h.push(ls);var u=function(d,p,g,x){p===void 0&&(p=""),g===void 0&&(g=""),x===void 0&&(x="&"),r=x,e=p,n=new RegExp("\\".concat(e,"\\b"),"g");var _=d.replace(zs,""),S=cs(g||p?"".concat(g," ").concat(p," { ").concat(_," }"):_);a.namespace&&(S=cn(S,a.namespace));var T=[];return rt(S,ds(h.concat(hs(function(I){return T.push(I)})))),T};return u.hash=c.length?c.reduce(function(d,p){return p.name||Le(15),Ae(d,p.name)},Jr).toString():"",u}var Hs=new ot,Rt=Ys(),un=ee.createContext({shouldForwardProp:void 0,styleSheet:Hs,stylis:Rt});un.Consumer;ee.createContext(void 0);function Nt(){return Sn(un)}var Ws=function(){function t(r,e){var n=this;this.inject=function(s,o){o===void 0&&(o=Rt);var a=n.name+o.hash;s.hasNameForId(n.id,a)||s.insertRules(n.id,a,o(n.rules,a,"@keyframes"))},this.name=r,this.id="sc-keyframes-".concat(r),this.rules=e,Xt(this,function(){throw Le(12,String(n.name))})}return t.prototype.getName=function(r){return r===void 0&&(r=Rt),this.name+r.hash},t}(),Gs=function(t){return t>="A"&&t<="Z"};function wr(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(e===1&&n==="-"&&t[0]==="-")return t;Gs(n)?r+="-"+n.toLowerCase():r+=n}return r.startsWith("ms-")?"-"+r:r}var ln=function(t){return t==null||t===!1||t===""},dn=function(t){var r,e,n=[];for(var s in t){var o=t[s];t.hasOwnProperty(s)&&!ln(o)&&(Array.isArray(o)&&o.isCss||Ie(o)?n.push("".concat(wr(s),":"),o,";"):$e(o)?n.push.apply(n,Ne(Ne(["".concat(s," {")],dn(o),!1),["}"],!1)):n.push("".concat(wr(s),": ").concat((r=s,(e=o)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||r in ps||r.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return n};function fe(t,r,e,n){if(ln(t))return[];if(Ut(t))return[".".concat(t.styledComponentId)];if(Ie(t)){if(!Ie(o=t)||o.prototype&&o.prototype.isReactComponent||!r)return[t];var s=t(r);return fe(s,r,e,n)}var o;return t instanceof Ws?e?(t.inject(e,n),[t.getName(n)]):[t]:$e(t)?dn(t):Array.isArray(t)?Array.prototype.concat.apply(pt,t.map(function(a){return fe(a,r,e,n)})):[t.toString()]}function hn(t){for(var r=0;r<t.length;r+=1){var e=t[r];if(Ie(e)&&!Ut(e))return!1}return!0}var Qs=en(ft),qs=function(){function t(r,e,n){this.rules=r,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&hn(r),this.componentId=e,this.baseHash=Ae(Qs,e),this.baseStyle=n,ot.registerId(e)}return t.prototype.generateAndInjectStyles=function(r,e,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(r,e,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))s=ye(s,this.staticRulesId);else{var o=Ot(fe(this.rules,r,e,n)),a=Ft(Ae(this.baseHash,o)>>>0);if(!e.hasNameForId(this.componentId,a)){var i=n(o,".".concat(a),void 0,this.componentId);e.insertRules(this.componentId,a,i)}s=ye(s,a),this.staticRulesId=a}else{for(var c=Ae(this.baseHash,n.hash),l="",h=0;h<this.rules.length;h++){var u=this.rules[h];if(typeof u=="string")l+=u;else if(u){var d=Ot(fe(u,r,e,n));c=Ae(c,d+h),l+=d}}if(l){var p=Ft(c>>>0);e.hasNameForId(this.componentId,p)||e.insertRules(this.componentId,p,n(l,".".concat(p),void 0,this.componentId)),s=ye(s,p)}}return s},t}(),Vt=ee.createContext(void 0);Vt.Consumer;var At={};function Ks(t,r,e){var n=Ut(t),s=t,o=!kt(t),a=r.attrs,i=a===void 0?pt:a,c=r.componentId,l=c===void 0?function(m,k){var C=typeof m!="string"?"sc":dr(m);At[C]=(At[C]||0)+1;var b="".concat(C,"-").concat(tn(ft+C+At[C]));return k?"".concat(k,"-").concat(b):b}(r.displayName,r.parentComponentId):c,h=r.displayName,u=h===void 0?function(m){return kt(m)?"styled.".concat(m):"Styled(".concat(bs(m),")")}(t):h,d=r.displayName&&r.componentId?"".concat(dr(r.displayName),"-").concat(r.componentId):r.componentId||l,p=n&&s.attrs?s.attrs.concat(i).filter(Boolean):i,g=r.shouldForwardProp;if(n&&s.shouldForwardProp){var x=s.shouldForwardProp;if(r.shouldForwardProp){var _=r.shouldForwardProp;g=function(m,k){return x(m,k)&&_(m,k)}}else g=x}var S=new qs(e,d,n?s.componentStyle:void 0);function T(m,k){return function(C,b,B){var $=C.attrs,K=C.componentStyle,ae=C.defaultProps,D=C.foldedComponentIds,y=C.styledComponentId,A=C.target,Y=ee.useContext(Vt),je=Nt(),mt=C.shouldForwardProp||je.shouldForwardProp,rr=Vr(b,Y,ae)||Te,re=function(Ye,Pe,He){for(var Fe,ge=G(G({},Pe),{className:void 0,theme:He}),wt=0;wt<Ye.length;wt+=1){var We=Ie(Fe=Ye[wt])?Fe(ge):Fe;for(var ue in We)ge[ue]=ue==="className"?ye(ge[ue],We[ue]):ue==="style"?G(G({},ge[ue]),We[ue]):We[ue]}return Pe.className&&(ge.className=ye(ge.className,Pe.className)),ge}($,b,rr),ze=re.as||A,_e={};for(var ce in re)re[ce]===void 0||ce[0]==="$"||ce==="as"||ce==="theme"&&re.theme===rr||(ce==="forwardedAs"?_e.as=re.forwardedAs:mt&&!mt(ce,ze)||(_e[ce]=re[ce]));var nr=function(Ye,Pe){var He=Nt(),Fe=Ye.generateAndInjectStyles(Pe,He.styleSheet,He.stylis);return Fe}(K,re),yt=ye(D,y);return nr&&(yt+=" "+nr),re.className&&(yt+=" "+re.className),_e[kt(ze)&&!Zr.has(ze)?"class":"className"]=yt,B&&(_e.ref=B),_n(ze,_e)}(I,m,k)}T.displayName=u;var I=ee.forwardRef(T);return I.attrs=p,I.componentStyle=S,I.displayName=u,I.shouldForwardProp=g,I.foldedComponentIds=n?ye(s.foldedComponentIds,s.styledComponentId):"",I.styledComponentId=d,I.target=n?s.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(m){this._foldedDefaultProps=n?function(k){for(var C=[],b=1;b<arguments.length;b++)C[b-1]=arguments[b];for(var B=0,$=C;B<$.length;B++)Bt(k,$[B],!0);return k}({},s.defaultProps,m):m}}),Xt(I,function(){return".".concat(I.styledComponentId)}),o&&on(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function xr(t,r){for(var e=[t[0]],n=0,s=r.length;n<s;n+=1)e.push(r[n],t[n+1]);return e}var br=function(t){return Object.assign(t,{isCss:!0})};function fn(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];if(Ie(t)||$e(t))return br(fe(xr(pt,Ne([t],r,!0))));var n=t;return r.length===0&&n.length===1&&typeof n[0]=="string"?fe(n):br(fe(xr(n,r)))}function $t(t,r,e){if(e===void 0&&(e=Te),!r)throw Le(1,r);var n=function(s){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return t(r,e,fn.apply(void 0,Ne([s],o,!1)))};return n.attrs=function(s){return $t(t,r,G(G({},e),{attrs:Array.prototype.concat(e.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return $t(t,r,G(G({},e),s))},n}var pn=function(t){return $t(Ks,t)},v=pn;Zr.forEach(function(t){v[t]=pn(t)});var Us=function(){function t(r,e){this.rules=r,this.componentId=e,this.isStatic=hn(r),ot.registerId(this.componentId+1)}return t.prototype.createStyles=function(r,e,n,s){var o=s(Ot(fe(this.rules,e,n,s)),""),a=this.componentId+r;n.insertRules(a,a,o)},t.prototype.removeStyles=function(r,e){e.clearRules(this.componentId+r)},t.prototype.renderStyles=function(r,e,n,s){r>2&&ot.registerId(this.componentId+r),this.removeStyles(r,n),this.createStyles(r,e,n,s)},t}();function Xs(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var n=fn.apply(void 0,Ne([t],r,!1)),s="sc-global-".concat(tn(JSON.stringify(n))),o=new Us(n,s),a=function(c){var l=Nt(),h=ee.useContext(Vt),u=ee.useRef(l.styleSheet.allocateGSInstance(s)).current;return l.styleSheet.server&&i(u,c,l.styleSheet,h,l.stylis),ee.useLayoutEffect(function(){if(!l.styleSheet.server)return i(u,c,l.styleSheet,h,l.stylis),function(){return o.removeStyles(u,l.styleSheet)}},[u,c,l.styleSheet,h,l.stylis]),null};function i(c,l,h,u,d){if(o.isStatic)o.renderStyles(c,ms,h,d);else{var p=G(G({},l),{theme:Vr(l,u,a.defaultProps)});o.renderStyles(c,p,h,d)}}return ee.memo(a)}const Vs=t=>t.split(`
`).filter(e=>e.trim()!=="").map(Zs),Zs=t=>{let r=t,e=!1,n,s,o,a="";if(r.startsWith("x ")){e=!0,r=r.substring(2);const p=/^(\d{4}-\d{2}-\d{2})\s+/.exec(r);p&&(n=new Date(p[1]),r=r.substring(p[0].length))}const i=/^\(([A-Z])\)\s+/.exec(r);i&&(s=i[1],r=r.substring(i[0].length));const c=/^(\d{4}-\d{2}-\d{2})\s+/.exec(r);c&&(o=new Date(c[1]),r=r.substring(c[0].length)),a=r;const l=Js(r),h=eo(r),u=to(r);let d=a;return l.forEach(p=>{d=d.replace(new RegExp(`\\s\\+${p}\\b`,"g"),"")}),h.forEach(p=>{d=d.replace(new RegExp(`\\s@${p}\\b`,"g"),"")}),Object.entries(u).forEach(([p,g])=>{d=d.replace(new RegExp(`\\s${p}:${g}\\b`,"g"),"")}),d=d.trim(),{raw:t,completed:e,completionDate:n,priority:s,creationDate:o,description:d,projects:l,contexts:h,metadata:u}},Js=t=>{const r=t.match(/\s\+([^\s]+)/g);return r?r.map(e=>e.trim().substring(1)):[]},eo=t=>{const r=t.match(/\s@([^\s]+)/g);return r?r.map(e=>e.trim().substring(1)):[]},to=t=>{const r=t.match(/\s([^\s:]+):([^\s:]+)/g);return r?r.reduce((e,n)=>{const[s,o]=n.trim().split(":");return{...e,[s]:o}},{}):{}},vr=t=>t.toISOString().split("T")[0],Zt=t=>{const r=[];t.completed&&(r.push("x"),t.completionDate&&r.push(vr(t.completionDate))),!t.completed&&t.priority&&r.push(`(${t.priority})`),t.creationDate&&r.push(vr(t.creationDate));let{description:e}=t;t.projects.forEach(s=>{e=e.replace(` +${s}`,"")}),t.contexts.forEach(s=>{e=e.replace(` @${s}`,"")}),Object.entries(t.metadata).forEach(([s,o])=>{e=e.replace(` ${s}:${o}`,"")}),r.push(e.trim());const n=[...t.projects.map(s=>`+${s}`),...t.contexts.map(s=>`@${s}`),...Object.entries(t.metadata).map(([s,o])=>`${s}:${o}`)];return[...r,...n].join(" ")},ro=t=>t.map(Zt).join(`
`),no=v.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  margin: 0 auto;
  padding: 20px;

  @media (min-width: 769px) {
    margin-left: 250px;
  }
`,gt=v.button`
  background-color: var(--sn-stylekit-info-color);
  color: var(--sn-stylekit-info-contrast-color);
  border: none;
  border-radius: 4px;
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;

  &:hover {
    background-color: var(--sn-stylekit-info-color-darkened);
  }

  &:disabled {
    background-color: var(--sn-stylekit-passive-color-3);
    color: var(--sn-stylekit-passive-color-1);
    cursor: not-allowed;
  }
`,so=v(gt)`
  background-color: var(--sn-stylekit-contrast-background-color);
  color: var(--sn-stylekit-foreground-color);

  &:hover {
    background-color: var(--sn-stylekit-secondary-background-color);
  }
`,oo=v.main`
  flex: 1;
  transition: margin-left 0.3s ease;

  @media (max-width: 768px) {
    margin-left: 0;
    width: 100%;
  }
`,io=v.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 999;
  display: ${t=>t.isOpen?"block":"none"};

  @media (min-width: 769px) {
    display: none;
  }
`,ao=()=>f("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),co=()=>f("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",role:"img",children:f("path",{d:"M7.5 2.5v.833H3.333V5h.834v10.833A1.666 1.666 0 0 0 5.833 17.5h8.334a1.667 1.667 0 0 0 1.666-1.667V5h.834V3.333H12.5V2.5h-5ZM5.833 5h8.334v10.833H5.833V5ZM7.5 6.667v7.5h1.667v-7.5H7.5Zm3.333 0v7.5H12.5v-7.5h-1.667Z"})}),uo=()=>f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",children:f("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})}),lo=v.aside`
  width: ${t=>t.isOpen?"250px":"0"};
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  transition:
    width 0.3s ease,
    transform 0.3s ease;
  overflow-x: hidden;
  z-index: 1000;
  box-shadow: ${t=>t.isOpen?"0 0 10px rgba(0, 0, 0, 0.2)":"none"};
  /* On mobile, sidebar slides in from left */
  @media (max-width: 768px) {
    width: 250px;
    transform: ${t=>t.isOpen?"translateX(0)":"translateX(-100%)"};
  }
`,ho=v.div`
  width: 250px;
  padding: 20px;
  padding-top: 75px;
`,fo=v.div`
  flex: 1;
  overflow-y: auto;
  background-color: var(--sn-stylekit-editor-background-color);
  border: 1px solid var(--sn-stylekit-border-color);
  border-radius: 4px;
`,Ke=v.div`
  margin-bottom: 24px;
`,Ue=v.h3`
  font-size: 14px;
  font-weight: 500;
  color: var(--sn-stylekit-passive-color-1);
  margin-bottom: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,le=v.div`
  display: flex;
  align-items: center;
  padding: 8px 12px;
  margin-bottom: 4px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  background-color: ${t=>t.active?"var(--sn-stylekit-contrast-background-color)":"transparent"};
  color: ${t=>t.active?"var(--sn-stylekit-info-color)":"var(--sn-stylekit-foreground-color)"};
  font-weight: ${t=>t.active?"500":"normal"};

  &:hover {
    background-color: var(--sn-stylekit-contrast-background-color);
  }
`,de=v.span`
  background-color: var(--sn-stylekit-passive-color-4);
  color: var(--sn-stylekit-passive-color-1);
  border-radius: 10px;
  padding: 2px 8px;
  font-size: 12px;
  margin-left: auto;
`,po=v.div`
  display: flex;
  align-items: center;
  padding: 12px 16px;
  border-bottom: 1px solid var(--sn-stylekit-border-color);
  opacity: ${t=>t.completed?.6:1};

  &:hover {
    background-color: var(--sn-stylekit-contrast-background-color);
  }
`,go=v.input`
  margin-right: 12px;
  width: 18px;
  height: 18px;
  cursor: pointer;
`,mo=v.div`
  flex: 1;
`,yo=v.div`
  font-size: 15px;
  margin-bottom: 4px;
  color: var(--sn-stylekit-foreground-color);
  text-decoration: ${t=>t.completed?"line-through":"none"};
`,wo=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 12px;
`,xo=v.span`
  background-color: ${t=>{switch(t.priority){case"A":return"var(--sn-stylekit-danger-color)";case"B":return"var(--sn-stylekit-warning-color)";case"C":return"var(--sn-stylekit-info-color)";default:return"var(--sn-stylekit-passive-color-3)"}}};
  color: ${t=>t.priority==="A"?"white":"black"};
  border-radius: 3px;
  padding: 2px 6px;
  font-weight: 500;
`,bo=v.span`
  background-color: var(--sn-stylekit-accessory-tint-color-5);
  color: white;
  border-radius: 3px;
  padding: 2px 6px;
`,vo=v.span`
  background-color: var(--sn-stylekit-accessory-tint-color-4);
  color: white;
  border-radius: 3px;
  padding: 2px 6px;
`,ko=v.span`
  background-color: var(--sn-stylekit-passive-color-4);
  color: var(--sn-stylekit-passive-color-0);
  border-radius: 3px;
  padding: 2px 6px;
`,kr=v.span`
  color: var(--sn-stylekit-passive-color-1);
  font-size: 12px;
`,Ao=v.div`
  display: grid;
  /* Mobile layout (menu + search + add button) */
  grid-template-columns: auto 1fr auto;
  gap: 12px;
  align-items: center;
  padding: 0 16px;

  @media (min-width: 769px) {
    /* Desktop layout (search + add button) */
    grid-template-columns: 1fr auto;
  }
`,Eo=v(gt)`
  justify-content: center;
  height: 44px;
  white-space: nowrap;
`,Co=v.button`
  background: var(--sn-stylekit-info-color, #4a90e2);
  color: white;
  border: none;
  border-radius: 4px;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color 0.2s;

  &:hover {
    background: var(--sn-stylekit-info-color-hover, #3a80d2);
  }

  /* Hide on desktop */
  @media (min-width: 769px) {
    display: none;
  }
`,Do=v.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 20px;
  text-align: center;
  color: var(--sn-stylekit-passive-color-1);
`,To=v.div`
  font-size: 48px;
  margin-bottom: 16px;
  color: var(--sn-stylekit-passive-color-3);
`,Io=v.p`
  font-size: 16px;
  margin-bottom: 16px;
`,Mo=v.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,So=v.div`
  background-color: var(--sn-stylekit-background-color);
  border-radius: 8px;
  width: 500px;
  max-width: 90%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
`,_o=v.div`
  padding: 16px 20px;
  border-bottom: 1px solid var(--sn-stylekit-border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Po=v.h2`
  font-size: 18px;
  font-weight: 500;
`,Fo=v.button`
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: var(--sn-stylekit-passive-color-1);

  &:hover {
    color: var(--sn-stylekit-foreground-color);
  }
`,Oo=v.div`
  padding: 20px;
`,Bo=v.div`
  padding: 16px 20px;
  border-top: 1px solid var(--sn-stylekit-border-color);
  display: flex;
  justify-content: flex-end;
  gap: 12px;
`,ve=v.div`
  margin-bottom: 16px;
`,ke=v.label`
  display: block;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
  color: var(--sn-stylekit-foreground-color);
`,Ar=v.input`
  width: 100%;
  padding: 10px 12px;
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border: 1px solid var(--sn-stylekit-border-color);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,Et=v.div`
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
`,Er=v.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
`,Cr=v.input`
  flex: 1;
  padding: 8px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,Ct=v.button`
  background-color: var(--sn-stylekit-contrast-background-color);
  border: none;
  border-radius: 4px;
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;

  &:hover {
    background-color: var(--sn-stylekit-secondary-background-color);
  }
`,Dt=v.div`
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 8px;
  background-color: var(--sn-stylekit-contrast-background-color);
  border-radius: 4px;
  font-size: 14px;
`,Tt=v.button`
  background: none;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: var(--sn-stylekit-passive-color-1);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  padding: 0;

  &:hover {
    color: var(--sn-stylekit-danger-color);
  }
`,Ro=v.div`
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 8px;
  margin-top: 8px;
  width: 100%;
`,No=v.input`
  min-width: 0; /* Critical to prevent overflow */
  padding: 8px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,$o=v.input`
  min-width: 0; /* Critical to prevent overflow */
  padding: 8px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border-radius: 4px;
  font-size: 14px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }
`,Lo=v.div`
  display: flex;
  gap: 8px;
  margin-left: auto;
`,jo=t=>{switch(t){case"danger":return"--sn-stylekit-danger-color";case"warning":return"--sn-stylekit-warning-color";default:return"--sn-stylekit-foreground-color"}},Dr=v.button`
  background: none;
  border: none;
  color: var(--sn-stylekit-passive-color-1);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 4px;

  &:hover {
    background-color: var(--sn-stylekit-secondary-background-color);
    color: var(${t=>jo(t.color)});
  }
`,zo=v.select`
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--sn-stylekit-border-color);
  border-radius: 4px;
  font-size: 14px;
  background-color: var(--sn-stylekit-background-color);
  color: var(--sn-stylekit-foreground-color);
  appearance: none; /* Remove default arrow */
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2372767e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 16px;
  padding-right: 30px;

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color);
  }

  option {
    background-color: var(--sn-stylekit-background-color);
    color: var(--sn-stylekit-foreground-color);
  }

  /* For Firefox */
  @-moz-document url-prefix() {
    color: var(--sn-stylekit-foreground-color);
    background-color: var(--sn-stylekit-background-color);
  }
`,Yo=v.div`
  position: relative;
  width: 100%;
  margin: 16px 0;
`,Ho=v.input`
  width: 100%;
  padding: 12px 16px 12px 42px;
  background-color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  color: var(--sn-stylekit-foreground-color, #ffffff);
  border: 1px solid var(--sn-stylekit-border-color, #3a3a3a);
  border-radius: 8px;
  font-size: 16px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

  &:focus {
    outline: none;
    border-color: var(--sn-stylekit-info-color, #4a90e2);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  &::placeholder {
    color: var(--sn-stylekit-foreground-color, #888888);
  }
`,Wo=v.div`
  position: absolute;
  top: 50%;
  left: 14px;
  transform: translateY(-50%);
  color: var(--sn-stylekit-foreground-color, #888888);
  pointer-events: none;
  transition: color 0.2s ease;
`,Go=v.button`
  position: absolute;
  top: 50%;
  right: 12px;
  transform: translateY(-50%);
  display: "flex";
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  background-color: var(--sn-stylekit-foreground-color, #888888);
  color: var(--sn-stylekit-contrast-background-color, #2a2a2a);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  font-size: 12px;
  font-weight: bold;
  transition: all 0.2s ease;

  &:hover {
    background-color: var(--sn-stylekit-contrast-foreground-color, #ffffff);
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--sn-stylekit-info-color, #4a90e2);
  }
`,Qo=({onSave:t,onCancel:r,editContext:e})=>{const[n,s]=H((e==null?void 0:e.item.description)??""),[o,a]=H((e==null?void 0:e.item.priority)??""),[i,c]=H((e==null?void 0:e.item.projects)??[]),[l,h]=H((e==null?void 0:e.item.contexts)??[]),[u,d]=H((e==null?void 0:e.item.metadata)??{}),[p,g]=H(""),[x,_]=H(""),[S,T]=H(""),[I,m]=H(""),k=()=>{S.trim()&&I.trim()&&(d({...u,[S.trim()]:I.trim()}),T(""),m(""))},C=y=>{const A={...u};delete A[y],d(A)},b=()=>{if(!n.trim())return;const y={raw:"",completed:!1,description:n.trim(),priority:o||void 0,creationDate:new Date,projects:i,contexts:l,metadata:u};y.raw=Zt(y),t(y,e==null?void 0:e.index)},B=()=>{p.trim()&&!i.includes(p.trim())&&(c([...i,p.trim()]),g(""))},$=()=>{x.trim()&&!l.includes(x.trim())&&(h([...l,x.trim()]),_(""))},K=y=>{c(i.filter(A=>A!==y))},ae=y=>{h(l.filter(A=>A!==y))},D=y=>{const A=u;u.due=y.target.value,d(A)};return f(Mo,{children:f(So,{children:[f(_o,{children:[f(Po,{children:e?"Edit Task":"Add New Task"}),f(Fo,{onClick:r,children:""})]}),f(Oo,{children:[f(ve,{children:[f(ke,{children:"Task Description"}),f(Ar,{value:n,onChange:y=>{s(y.target.value)},placeholder:"What needs to be done?",autoFocus:!0})]}),f(ve,{children:[f(ke,{children:"Priority"}),f(zo,{value:o,onChange:y=>{a(y.target.value)},children:[f("option",{value:"",children:"No Priority"}),["A","B","C","D","E"].map(y=>f("option",{value:y,children:["Priority ",y]},y))]})]}),f(ve,{children:[f(ke,{children:"Projects"}),f(Et,{children:i.map(y=>f(Dt,{children:["+",y,f(Tt,{onClick:()=>{K(y)},children:""})]},y))}),f(Er,{children:[f(Cr,{value:p,onChange:y=>{g(y.target.value)},placeholder:"Add project...",onKeyDown:y=>{y.key==="Enter"&&B()}}),f(Ct,{onClick:B,children:"Add"})]})]}),f(ve,{children:[f(ke,{children:"Contexts"}),f(Et,{children:l.map(y=>f(Dt,{children:["@",y,f(Tt,{onClick:()=>{ae(y)},children:""})]},y))}),f(Er,{children:[f(Cr,{value:x,onChange:y=>{_(y.target.value)},placeholder:"Add context...",onKeyDown:y=>{y.key==="Enter"&&$()}}),f(Ct,{onClick:$,children:"Add"})]})]}),f(ve,{children:[f(ke,{children:"Due Date"}),f(Ar,{type:"date",onChange:D,value:u.due})]}),f(ve,{children:[f(ke,{children:"Metadata"}),f(Et,{children:Object.entries(u).map(([y,A])=>f(Dt,{children:[y,":",A,f(Tt,{onClick:()=>{C(y)},children:""})]},y))}),f(Ro,{children:[f(No,{value:S,onChange:y=>{T(y.target.value)},placeholder:"Key"}),f($o,{value:I,onChange:y=>{m(y.target.value)},placeholder:"Value",onKeyDown:y=>{y.key==="Enter"&&k()}}),f(Ct,{onClick:k,children:"Add"})]})]})]}),f(Bo,{children:[f(so,{onClick:r,children:"Cancel"}),f(gt,{onClick:b,disabled:n=="",children:e?"Update Task":"Add Task"})]})]})})},Tr="todo_txt_search_input",qo=({value:t,onChange:r})=>f(Yo,{children:[f(Ho,{id:Tr,type:"text",placeholder:"Search...",value:t,onChange:s=>{r(s.target.value)}}),f(Wo,{children:f("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f("circle",{cx:"11",cy:"11",r:"8"}),f("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),f(Go,{onClick:()=>{r(""),document.getElementById(Tr).focus()},"aria-label":"Clear search",children:""})]});function ie(t){return Array.isArray?Array.isArray(t):yn(t)==="[object Array]"}function Ko(t){if(typeof t=="string")return t;let r=t+"";return r=="0"&&1/t==-1/0?"-0":r}function Uo(t){return t==null?"":Ko(t)}function te(t){return typeof t=="string"}function gn(t){return typeof t=="number"}function Xo(t){return t===!0||t===!1||Vo(t)&&yn(t)=="[object Boolean]"}function mn(t){return typeof t=="object"}function Vo(t){return mn(t)&&t!==null}function q(t){return t!=null}function It(t){return!t.trim().length}function yn(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Zo="Incorrect 'index' type",Jo=t=>`Invalid value for key ${t}`,ei=t=>`Pattern length exceeds max of ${t}.`,ti=t=>`Missing ${t} property in key`,ri=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ir=Object.prototype.hasOwnProperty;class ni{constructor(r){this._keys=[],this._keyMap={};let e=0;r.forEach(n=>{let s=wn(n);this._keys.push(s),this._keyMap[s.id]=s,e+=s.weight}),this._keys.forEach(n=>{n.weight/=e})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function wn(t){let r=null,e=null,n=null,s=1,o=null;if(te(t)||ie(t))n=t,r=Mr(t),e=Lt(t);else{if(!Ir.call(t,"name"))throw new Error(ti("name"));const a=t.name;if(n=a,Ir.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(ri(a));r=Mr(a),e=Lt(a),o=t.getFn}return{path:r,id:e,weight:s,src:n,getFn:o}}function Mr(t){return ie(t)?t:t.split(".")}function Lt(t){return ie(t)?t.join("."):t}function si(t,r){let e=[],n=!1;const s=(o,a,i)=>{if(q(o))if(!a[i])e.push(o);else{let c=a[i];const l=o[c];if(!q(l))return;if(i===a.length-1&&(te(l)||gn(l)||Xo(l)))e.push(Uo(l));else if(ie(l)){n=!0;for(let h=0,u=l.length;h<u;h+=1)s(l[h],a,i+1)}else a.length&&s(l,a,i+1)}};return s(t,te(r)?r.split("."):r,0),n?e:e[0]}const oi={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ii={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,r)=>t.score===r.score?t.idx<r.idx?-1:1:t.score<r.score?-1:1},ai={location:0,threshold:.6,distance:100},ci={useExtendedSearch:!1,getFn:si,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var E={...ii,...oi,...ai,...ci};const ui=/[^ ]+/g;function li(t=1,r=3){const e=new Map,n=Math.pow(10,r);return{get(s){const o=s.match(ui).length;if(e.has(o))return e.get(o);const a=1/Math.pow(o,.5*t),i=parseFloat(Math.round(a*n)/n);return e.set(o,i),i},clear(){e.clear()}}}class Jt{constructor({getFn:r=E.getFn,fieldNormWeight:e=E.fieldNormWeight}={}){this.norm=li(e,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((e,n)=>{this._keysMap[e.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,te(this.docs[0])?this.docs.forEach((r,e)=>{this._addString(r,e)}):this.docs.forEach((r,e)=>{this._addObject(r,e)}),this.norm.clear())}add(r){const e=this.size();te(r)?this._addString(r,e):this._addObject(r,e)}removeAt(r){this.records.splice(r,1);for(let e=r,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(r,e){return r[this._keysMap[e]]}size(){return this.records.length}_addString(r,e){if(!q(r)||It(r))return;let n={v:r,i:e,n:this.norm.get(r)};this.records.push(n)}_addObject(r,e){let n={i:e,$:{}};this.keys.forEach((s,o)=>{let a=s.getFn?s.getFn(r):this.getFn(r,s.path);if(q(a)){if(ie(a)){let i=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:l,value:h}=c.pop();if(q(h))if(te(h)&&!It(h)){let u={v:h,i:l,n:this.norm.get(h)};i.push(u)}else ie(h)&&h.forEach((u,d)=>{c.push({nestedArrIndex:d,value:u})})}n.$[o]=i}else if(te(a)&&!It(a)){let i={v:a,n:this.norm.get(a)};n.$[o]=i}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function xn(t,r,{getFn:e=E.getFn,fieldNormWeight:n=E.fieldNormWeight}={}){const s=new Jt({getFn:e,fieldNormWeight:n});return s.setKeys(t.map(wn)),s.setSources(r),s.create(),s}function di(t,{getFn:r=E.getFn,fieldNormWeight:e=E.fieldNormWeight}={}){const{keys:n,records:s}=t,o=new Jt({getFn:r,fieldNormWeight:e});return o.setKeys(n),o.setIndexRecords(s),o}function Xe(t,{errors:r=0,currentLocation:e=0,expectedLocation:n=0,distance:s=E.distance,ignoreLocation:o=E.ignoreLocation}={}){const a=r/t.length;if(o)return a;const i=Math.abs(n-e);return s?a+i/s:i?1:a}function hi(t=[],r=E.minMatchCharLength){let e=[],n=-1,s=-1,o=0;for(let a=t.length;o<a;o+=1){let i=t[o];i&&n===-1?n=o:!i&&n!==-1&&(s=o-1,s-n+1>=r&&e.push([n,s]),n=-1)}return t[o-1]&&o-n>=r&&e.push([n,o-1]),e}const me=32;function fi(t,r,e,{location:n=E.location,distance:s=E.distance,threshold:o=E.threshold,findAllMatches:a=E.findAllMatches,minMatchCharLength:i=E.minMatchCharLength,includeMatches:c=E.includeMatches,ignoreLocation:l=E.ignoreLocation}={}){if(r.length>me)throw new Error(ei(me));const h=r.length,u=t.length,d=Math.max(0,Math.min(n,u));let p=o,g=d;const x=i>1||c,_=x?Array(u):[];let S;for(;(S=t.indexOf(r,g))>-1;){let b=Xe(r,{currentLocation:S,expectedLocation:d,distance:s,ignoreLocation:l});if(p=Math.min(b,p),g=S+h,x){let B=0;for(;B<h;)_[S+B]=1,B+=1}}g=-1;let T=[],I=1,m=h+u;const k=1<<h-1;for(let b=0;b<h;b+=1){let B=0,$=m;for(;B<$;)Xe(r,{errors:b,currentLocation:d+$,expectedLocation:d,distance:s,ignoreLocation:l})<=p?B=$:m=$,$=Math.floor((m-B)/2+B);m=$;let K=Math.max(1,d-$+1),ae=a?u:Math.min(d+$,u)+h,D=Array(ae+2);D[ae+1]=(1<<b)-1;for(let A=ae;A>=K;A-=1){let Y=A-1,je=e[t.charAt(Y)];if(x&&(_[Y]=+!!je),D[A]=(D[A+1]<<1|1)&je,b&&(D[A]|=(T[A+1]|T[A])<<1|1|T[A+1]),D[A]&k&&(I=Xe(r,{errors:b,currentLocation:Y,expectedLocation:d,distance:s,ignoreLocation:l}),I<=p)){if(p=I,g=Y,g<=d)break;K=Math.max(1,2*d-g)}}if(Xe(r,{errors:b+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:l})>p)break;T=D}const C={isMatch:g>=0,score:Math.max(.001,I)};if(x){const b=hi(_,i);b.length?c&&(C.indices=b):C.isMatch=!1}return C}function pi(t){let r={};for(let e=0,n=t.length;e<n;e+=1){const s=t.charAt(e);r[s]=(r[s]||0)|1<<n-e-1}return r}const it=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class bn{constructor(r,{location:e=E.location,threshold:n=E.threshold,distance:s=E.distance,includeMatches:o=E.includeMatches,findAllMatches:a=E.findAllMatches,minMatchCharLength:i=E.minMatchCharLength,isCaseSensitive:c=E.isCaseSensitive,ignoreDiacritics:l=E.ignoreDiacritics,ignoreLocation:h=E.ignoreLocation}={}){if(this.options={location:e,threshold:n,distance:s,includeMatches:o,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:h},r=c?r:r.toLowerCase(),r=l?it(r):r,this.pattern=r,this.chunks=[],!this.pattern.length)return;const u=(p,g)=>{this.chunks.push({pattern:p,alphabet:pi(p),startIndex:g})},d=this.pattern.length;if(d>me){let p=0;const g=d%me,x=d-g;for(;p<x;)u(this.pattern.substr(p,me),p),p+=me;if(g){const _=d-me;u(this.pattern.substr(_),_)}}else u(this.pattern,0)}searchIn(r){const{isCaseSensitive:e,ignoreDiacritics:n,includeMatches:s}=this.options;if(r=e?r:r.toLowerCase(),r=n?it(r):r,this.pattern===r){let x={isMatch:!0,score:0};return s&&(x.indices=[[0,r.length-1]]),x}const{location:o,distance:a,threshold:i,findAllMatches:c,minMatchCharLength:l,ignoreLocation:h}=this.options;let u=[],d=0,p=!1;this.chunks.forEach(({pattern:x,alphabet:_,startIndex:S})=>{const{isMatch:T,score:I,indices:m}=fi(r,x,_,{location:o+S,distance:a,threshold:i,findAllMatches:c,minMatchCharLength:l,includeMatches:s,ignoreLocation:h});T&&(p=!0),d+=I,T&&m&&(u=[...u,...m])});let g={isMatch:p,score:p?d/this.chunks.length:1};return p&&s&&(g.indices=u),g}}class pe{constructor(r){this.pattern=r}static isMultiMatch(r){return Sr(r,this.multiRegex)}static isSingleMatch(r){return Sr(r,this.singleRegex)}search(){}}function Sr(t,r){const e=t.match(r);return e?e[1]:null}class gi extends pe{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){const e=r===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class mi extends pe{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){const n=r.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,r.length-1]}}}class yi extends pe{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){const e=r.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class wi extends pe{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){const e=!r.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,r.length-1]}}}class xi extends pe{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){const e=r.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[r.length-this.pattern.length,r.length-1]}}}class bi extends pe{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){const e=!r.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,r.length-1]}}}class vn extends pe{constructor(r,{location:e=E.location,threshold:n=E.threshold,distance:s=E.distance,includeMatches:o=E.includeMatches,findAllMatches:a=E.findAllMatches,minMatchCharLength:i=E.minMatchCharLength,isCaseSensitive:c=E.isCaseSensitive,ignoreDiacritics:l=E.ignoreDiacritics,ignoreLocation:h=E.ignoreLocation}={}){super(r),this._bitapSearch=new bn(r,{location:e,threshold:n,distance:s,includeMatches:o,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:l,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}}class kn extends pe{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let e=0,n;const s=[],o=this.pattern.length;for(;(n=r.indexOf(this.pattern,e))>-1;)e=n+o,s.push([n,e-1]);const a=!!s.length;return{isMatch:a,score:a?0:1,indices:s}}}const jt=[gi,kn,yi,wi,bi,xi,mi,vn],_r=jt.length,vi=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ki="|";function Ai(t,r={}){return t.split(ki).map(e=>{let n=e.trim().split(vi).filter(o=>o&&!!o.trim()),s=[];for(let o=0,a=n.length;o<a;o+=1){const i=n[o];let c=!1,l=-1;for(;!c&&++l<_r;){const h=jt[l];let u=h.isMultiMatch(i);u&&(s.push(new h(u,r)),c=!0)}if(!c)for(l=-1;++l<_r;){const h=jt[l];let u=h.isSingleMatch(i);if(u){s.push(new h(u,r));break}}}return s})}const Ei=new Set([vn.type,kn.type]);class Ci{constructor(r,{isCaseSensitive:e=E.isCaseSensitive,ignoreDiacritics:n=E.ignoreDiacritics,includeMatches:s=E.includeMatches,minMatchCharLength:o=E.minMatchCharLength,ignoreLocation:a=E.ignoreLocation,findAllMatches:i=E.findAllMatches,location:c=E.location,threshold:l=E.threshold,distance:h=E.distance}={}){this.query=null,this.options={isCaseSensitive:e,ignoreDiacritics:n,includeMatches:s,minMatchCharLength:o,findAllMatches:i,ignoreLocation:a,location:c,threshold:l,distance:h},r=e?r:r.toLowerCase(),r=n?it(r):r,this.pattern=r,this.query=Ai(this.pattern,this.options)}static condition(r,e){return e.useExtendedSearch}searchIn(r){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s,ignoreDiacritics:o}=this.options;r=s?r:r.toLowerCase(),r=o?it(r):r;let a=0,i=[],c=0;for(let l=0,h=e.length;l<h;l+=1){const u=e[l];i.length=0,a=0;for(let d=0,p=u.length;d<p;d+=1){const g=u[d],{isMatch:x,indices:_,score:S}=g.search(r);if(x){if(a+=1,c+=S,n){const T=g.constructor.type;Ei.has(T)?i=[...i,..._]:i.push(_)}}else{c=0,a=0,i.length=0;break}}if(a){let d={isMatch:!0,score:c/a};return n&&(d.indices=i),d}}return{isMatch:!1,score:1}}}const zt=[];function Di(...t){zt.push(...t)}function Yt(t,r){for(let e=0,n=zt.length;e<n;e+=1){let s=zt[e];if(s.condition(t,r))return new s(t,r)}return new bn(t,r)}const at={AND:"$and",OR:"$or"},Ht={PATH:"$path",PATTERN:"$val"},Wt=t=>!!(t[at.AND]||t[at.OR]),Ti=t=>!!t[Ht.PATH],Ii=t=>!ie(t)&&mn(t)&&!Wt(t),Pr=t=>({[at.AND]:Object.keys(t).map(r=>({[r]:t[r]}))});function An(t,r,{auto:e=!0}={}){const n=s=>{let o=Object.keys(s);const a=Ti(s);if(!a&&o.length>1&&!Wt(s))return n(Pr(s));if(Ii(s)){const c=a?s[Ht.PATH]:o[0],l=a?s[Ht.PATTERN]:s[c];if(!te(l))throw new Error(Jo(c));const h={keyId:Lt(c),pattern:l};return e&&(h.searcher=Yt(l,r)),h}let i={children:[],operator:o[0]};return o.forEach(c=>{const l=s[c];ie(l)&&l.forEach(h=>{i.children.push(n(h))})}),i};return Wt(t)||(t=Pr(t)),n(t)}function Mi(t,{ignoreFieldNorm:r=E.ignoreFieldNorm}){t.forEach(e=>{let n=1;e.matches.forEach(({key:s,norm:o,score:a})=>{const i=s?s.weight:null;n*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(r?1:o))}),e.score=n})}function Si(t,r){const e=t.matches;r.matches=[],q(e)&&e.forEach(n=>{if(!q(n.indices)||!n.indices.length)return;const{indices:s,value:o}=n;let a={indices:s,value:o};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),r.matches.push(a)})}function _i(t,r){r.score=t.score}function Pi(t,r,{includeMatches:e=E.includeMatches,includeScore:n=E.includeScore}={}){const s=[];return e&&s.push(Si),n&&s.push(_i),t.map(o=>{const{idx:a}=o,i={item:r[a],refIndex:a};return s.length&&s.forEach(c=>{c(o,i)}),i})}class Se{constructor(r,e={},n){this.options={...E,...e},this.options.useExtendedSearch,this._keyStore=new ni(this.options.keys),this.setCollection(r,n)}setCollection(r,e){if(this._docs=r,e&&!(e instanceof Jt))throw new Error(Zo);this._myIndex=e||xn(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){q(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const o=this._docs[n];r(o,n)&&(this.removeAt(n),n-=1,s-=1,e.push(o))}return e}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:e=-1}={}){const{includeMatches:n,includeScore:s,shouldSort:o,sortFn:a,ignoreFieldNorm:i}=this.options;let c=te(r)?te(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return Mi(c,{ignoreFieldNorm:i}),o&&c.sort(a),gn(e)&&e>-1&&(c=c.slice(0,e)),Pi(c,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(r){const e=Yt(r,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:o,i:a,n:i})=>{if(!q(o))return;const{isMatch:c,score:l,indices:h}=e.searchIn(o);c&&s.push({item:o,idx:a,matches:[{score:l,value:o,norm:i,indices:h}]})}),s}_searchLogical(r){const e=An(r,this.options),n=(i,c,l)=>{if(!i.children){const{keyId:u,searcher:d}=i,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(c,u),searcher:d});return p&&p.length?[{idx:l,item:c,matches:p}]:[]}const h=[];for(let u=0,d=i.children.length;u<d;u+=1){const p=i.children[u],g=n(p,c,l);if(g.length)h.push(...g);else if(i.operator===at.AND)return[]}return h},s=this._myIndex.records,o={},a=[];return s.forEach(({$:i,i:c})=>{if(q(i)){let l=n(e,i,c);l.length&&(o[c]||(o[c]={idx:c,item:i,matches:[]},a.push(o[c])),l.forEach(({matches:h})=>{o[c].matches.push(...h)}))}}),a}_searchObjectList(r){const e=Yt(r,this.options),{keys:n,records:s}=this._myIndex,o=[];return s.forEach(({$:a,i})=>{if(!q(a))return;let c=[];n.forEach((l,h)=>{c.push(...this._findMatches({key:l,value:a[h],searcher:e}))}),c.length&&o.push({idx:i,item:a,matches:c})}),o}_findMatches({key:r,value:e,searcher:n}){if(!q(e))return[];let s=[];if(ie(e))e.forEach(({v:o,i:a,n:i})=>{if(!q(o))return;const{isMatch:c,score:l,indices:h}=n.searchIn(o);c&&s.push({score:l,key:r,value:o,idx:a,norm:i,indices:h})});else{const{v:o,n:a}=e,{isMatch:i,score:c,indices:l}=n.searchIn(o);i&&s.push({score:c,key:r,value:o,norm:a,indices:l})}return s}}Se.version="7.1.0";Se.createIndex=xn;Se.parseIndex=di;Se.config=E;Se.parseQuery=An;Di(Ci);function Fi(t,r,e){const[n,s]=Pn(e==null?void 0:e.in,t,r),o=Fr(n,s),a=Math.abs(Fn(n,s));n.setDate(n.getDate()-o*a);const i=+(Fr(n,s)===-o),c=o*(a-i);return c===0?0:c}function Fr(t,r){const e=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return e<0?-1:e>0?1:e}function Oi(){return Object.assign({},Nr())}function Bi(t,r){const e=xe(t,r==null?void 0:r.in).getDay();return e===0?7:e}function Ri(t,r){const e=Ni(r)?new r(0):oe(r,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function Ni(t){var r;return typeof t=="function"&&((r=t.prototype)==null?void 0:r.constructor)===t}const $i=10;class En{constructor(){w(this,"subPriority",0)}validate(r,e){return!0}}class Li extends En{constructor(r,e,n,s,o){super(),this.value=r,this.validateValue=e,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(r,e){return this.validateValue(r,this.value,e)}set(r,e,n){return this.setValue(r,e,this.value,n)}}class ji extends En{constructor(e,n){super();w(this,"priority",$i);w(this,"subPriority",-1);this.context=e||(s=>oe(n,s))}set(e,n){return n.timestampIsSet?e:oe(e,Ri(e,this.context))}}class P{run(r,e,n,s){const o=this.parse(r,e,n,s);return o?{setter:new Li(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(r,e,n){return!0}}class zi extends P{constructor(){super(...arguments);w(this,"priority",140);w(this,"incompatibleTokens",["R","u","t","T"])}parse(e,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});case"GGGG":default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,n,s){return n.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}const L={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Z={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function j(t,r){return t&&{value:r(t.value),rest:t.rest}}function R(t,r){const e=r.match(t);return e?{value:parseInt(e[0],10),rest:r.slice(e[0].length)}:null}function J(t,r){const e=r.match(t);if(!e)return null;if(e[0]==="Z")return{value:0,rest:r.slice(1)};const n=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,a=e[5]?parseInt(e[5],10):0;return{value:n*(s*On+o*Bn+a*Rn),rest:r.slice(e[0].length)}}function Cn(t){return R(L.anyDigitsSigned,t)}function N(t,r){switch(t){case 1:return R(L.singleDigit,r);case 2:return R(L.twoDigits,r);case 3:return R(L.threeDigits,r);case 4:return R(L.fourDigits,r);default:return R(new RegExp("^\\d{1,"+t+"}"),r)}}function ct(t,r){switch(t){case 1:return R(L.singleDigitSigned,r);case 2:return R(L.twoDigitsSigned,r);case 3:return R(L.threeDigitsSigned,r);case 4:return R(L.fourDigitsSigned,r);default:return R(new RegExp("^-?\\d{1,"+t+"}"),r)}}function er(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Dn(t,r){const e=r>0,n=e?r:1-r;let s;if(n<=50)s=t||100;else{const o=n+50,a=Math.trunc(o/100)*100,i=t>=o%100;s=t+a-(i?100:0)}return e?s:1-s}function Tn(t){return t%400===0||t%4===0&&t%100!==0}class Yi extends P{constructor(){super(...arguments);w(this,"priority",130);w(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,n,s){const o=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return j(N(4,e),o);case"yo":return j(s.ordinalNumber(e,{unit:"year"}),o);default:return j(N(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s){const o=e.getFullYear();if(s.isTwoDigitYear){const i=Dn(s.year,o);return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}const a=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class Hi extends P{constructor(){super(...arguments);w(this,"priority",130);w(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,n,s){const o=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return j(N(4,e),o);case"Yo":return j(s.ordinalNumber(e,{unit:"year"}),o);default:return j(N(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,s,o){const a=Nn(e,o);if(s.isTwoDigitYear){const c=Dn(s.year,a);return e.setFullYear(c,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Mt(e,o)}const i=!("era"in n)||n.era===1?s.year:1-s.year;return e.setFullYear(i,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),Mt(e,o)}}class Wi extends P{constructor(){super(...arguments);w(this,"priority",130);w(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,n){return ct(n==="R"?4:n.length,e)}set(e,n,s){const o=oe(e,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),$r(o)}}class Gi extends P{constructor(){super(...arguments);w(this,"priority",130);w(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,n){return ct(n==="u"?4:n.length,e)}set(e,n,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class Qi extends P{constructor(){super(...arguments);w(this,"priority",120);w(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"Q":case"QQ":return N(n.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class qi extends P{constructor(){super(...arguments);w(this,"priority",120);w(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"q":case"qq":return N(n.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}}class Ki extends P{constructor(){super(...arguments);w(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);w(this,"priority",110)}parse(e,n,s){const o=a=>a-1;switch(n){case"M":return j(R(L.month,e),o);case"MM":return j(N(2,e),o);case"Mo":return j(s.ordinalNumber(e,{unit:"month"}),o);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}class Ui extends P{constructor(){super(...arguments);w(this,"priority",110);w(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,n,s){const o=a=>a-1;switch(n){case"L":return j(R(L.month,e),o);case"LL":return j(N(2,e),o);case"Lo":return j(s.ordinalNumber(e,{unit:"month"}),o);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}}function Xi(t,r,e){const n=xe(t,e==null?void 0:e.in),s=$n(n,e)-r;return n.setDate(n.getDate()-s*7),xe(n,e==null?void 0:e.in)}class Vi extends P{constructor(){super(...arguments);w(this,"priority",100);w(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,n,s){switch(n){case"w":return R(L.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return N(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s,o){return Mt(Xi(e,s,o),o)}}function Zi(t,r,e){const n=xe(t,e==null?void 0:e.in),s=Ln(n,e)-r;return n.setDate(n.getDate()-s*7),n}class Ji extends P{constructor(){super(...arguments);w(this,"priority",100);w(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,n,s){switch(n){case"I":return R(L.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return N(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,s){return $r(Zi(e,s))}}const ea=[31,28,31,30,31,30,31,31,30,31,30,31],ta=[31,29,31,30,31,30,31,31,30,31,30,31];class ra extends P{constructor(){super(...arguments);w(this,"priority",90);w(this,"subPriority",1);w(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"d":return R(L.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return N(n.length,e)}}validate(e,n){const s=e.getFullYear(),o=Tn(s),a=e.getMonth();return o?n>=1&&n<=ta[a]:n>=1&&n<=ea[a]}set(e,n,s){return e.setDate(s),e.setHours(0,0,0,0),e}}class na extends P{constructor(){super(...arguments);w(this,"priority",90);w(this,"subpriority",1);w(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,n,s){switch(n){case"D":case"DD":return R(L.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return N(n.length,e)}}validate(e,n){const s=e.getFullYear();return Tn(s)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}}function tr(t,r,e){var u,d,p,g;const n=Nr(),s=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,o=xe(t,e==null?void 0:e.in),a=o.getDay(),c=(r%7+7)%7,l=7-s,h=r<0||r>6?r-(a+l)%7:(c+l)%7-(a+l)%7;return Lr(o,h,e)}class sa extends P{constructor(){super(...arguments);w(this,"priority",90);w(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=tr(e,s,o),e.setHours(0,0,0,0),e}}class oa extends P{constructor(){super(...arguments);w(this,"priority",90);w(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,n,s,o){const a=i=>{const c=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return j(N(n.length,e),a);case"eo":return j(s.ordinalNumber(e,{unit:"day"}),a);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=tr(e,s,o),e.setHours(0,0,0,0),e}}class ia extends P{constructor(){super(...arguments);w(this,"priority",90);w(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,n,s,o){const a=i=>{const c=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return j(N(n.length,e),a);case"co":return j(s.ordinalNumber(e,{unit:"day"}),a);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,s,o){return e=tr(e,s,o),e.setHours(0,0,0,0),e}}function aa(t,r,e){const n=xe(t,e==null?void 0:e.in),s=Bi(n,e),o=r-s;return Lr(n,o,e)}class ca extends P{constructor(){super(...arguments);w(this,"priority",90);w(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,n,s){const o=a=>a===0?7:a;switch(n){case"i":case"ii":return N(n.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return j(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return j(s.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return j(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return j(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,n){return n>=1&&n<=7}set(e,n,s){return e=aa(e,s),e.setHours(0,0,0,0),e}}class ua extends P{constructor(){super(...arguments);w(this,"priority",80);w(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(er(s),0,0,0),e}}class la extends P{constructor(){super(...arguments);w(this,"priority",80);w(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(er(s),0,0,0),e}}class da extends P{constructor(){super(...arguments);w(this,"priority",80);w(this,"incompatibleTokens",["a","b","t","T"])}parse(e,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,s){return e.setHours(er(s),0,0,0),e}}class ha extends P{constructor(){super(...arguments);w(this,"priority",70);w(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,n,s){switch(n){case"h":return R(L.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return N(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,s){const o=e.getHours()>=12;return o&&s<12?e.setHours(s+12,0,0,0):!o&&s===12?e.setHours(0,0,0,0):e.setHours(s,0,0,0),e}}class fa extends P{constructor(){super(...arguments);w(this,"priority",70);w(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,n,s){switch(n){case"H":return R(L.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return N(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,s){return e.setHours(s,0,0,0),e}}class pa extends P{constructor(){super(...arguments);w(this,"priority",70);w(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,n,s){switch(n){case"K":return R(L.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return N(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}}class ga extends P{constructor(){super(...arguments);w(this,"priority",70);w(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,n,s){switch(n){case"k":return R(L.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return N(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,s){const o=s<=24?s%24:s;return e.setHours(o,0,0,0),e}}class ma extends P{constructor(){super(...arguments);w(this,"priority",60);w(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"m":return R(L.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return N(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setMinutes(s,0,0),e}}class ya extends P{constructor(){super(...arguments);w(this,"priority",50);w(this,"incompatibleTokens",["t","T"])}parse(e,n,s){switch(n){case"s":return R(L.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return N(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,s){return e.setSeconds(s,0),e}}class wa extends P{constructor(){super(...arguments);w(this,"priority",30);w(this,"incompatibleTokens",["t","T"])}parse(e,n){const s=o=>Math.trunc(o*Math.pow(10,-n.length+3));return j(N(n.length,e),s)}set(e,n,s){return e.setMilliseconds(s),e}}class xa extends P{constructor(){super(...arguments);w(this,"priority",10);w(this,"incompatibleTokens",["t","T","x"])}parse(e,n){switch(n){case"X":return J(Z.basicOptionalMinutes,e);case"XX":return J(Z.basic,e);case"XXXX":return J(Z.basicOptionalSeconds,e);case"XXXXX":return J(Z.extendedOptionalSeconds,e);case"XXX":default:return J(Z.extended,e)}}set(e,n,s){return n.timestampIsSet?e:oe(e,e.getTime()-jr(e)-s)}}class ba extends P{constructor(){super(...arguments);w(this,"priority",10);w(this,"incompatibleTokens",["t","T","X"])}parse(e,n){switch(n){case"x":return J(Z.basicOptionalMinutes,e);case"xx":return J(Z.basic,e);case"xxxx":return J(Z.basicOptionalSeconds,e);case"xxxxx":return J(Z.extendedOptionalSeconds,e);case"xxx":default:return J(Z.extended,e)}}set(e,n,s){return n.timestampIsSet?e:oe(e,e.getTime()-jr(e)-s)}}class va extends P{constructor(){super(...arguments);w(this,"priority",40);w(this,"incompatibleTokens","*")}parse(e){return Cn(e)}set(e,n,s){return[oe(e,s*1e3),{timestampIsSet:!0}]}}class ka extends P{constructor(){super(...arguments);w(this,"priority",20);w(this,"incompatibleTokens","*")}parse(e){return Cn(e)}set(e,n,s){return[oe(e,s),{timestampIsSet:!0}]}}const Aa={G:new zi,y:new Yi,Y:new Hi,R:new Wi,u:new Gi,Q:new Qi,q:new qi,M:new Ki,L:new Ui,w:new Vi,I:new Ji,d:new ra,D:new na,E:new sa,e:new oa,c:new ia,i:new ca,a:new ua,b:new la,B:new da,h:new ha,H:new fa,K:new pa,k:new ga,m:new ma,s:new ya,S:new wa,X:new xa,x:new ba,t:new va,T:new ka},Ea=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ca=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Da=/^'([^]*?)'?$/,Ta=/''/g,Ia=/\S/,Ma=/[a-zA-Z]/;function Sa(t,r,e,n){var _,S,T,I;const s=()=>oe(e,NaN),o=Oi(),a=o.locale??jn,i=o.firstWeekContainsDate??((S=(_=o.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)??1,c=o.weekStartsOn??((I=(T=o.locale)==null?void 0:T.options)==null?void 0:I.weekStartsOn)??0,l={firstWeekContainsDate:i,weekStartsOn:c,locale:a},h=[new ji(n==null?void 0:n.in,e)],u=r.match(Ca).map(m=>{const k=m[0];if(k in sr){const C=sr[k];return C(m,a.formatLong)}return m}).join("").match(Ea),d=[];for(let m of u){zn(m)&&or(m,r,t),Yn(m)&&or(m,r,t);const k=m[0],C=Aa[k];if(C){const{incompatibleTokens:b}=C;if(Array.isArray(b)){const $=d.find(K=>b.includes(K.token)||K.token===k);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${m}\` at the same time`)}else if(C.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);d.push({token:k,fullToken:m});const B=C.run(t,m,a.match,l);if(!B)return s();h.push(B.setter),t=B.rest}else{if(k.match(Ma))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(m==="''"?m="'":k==="'"&&(m=_a(m)),t.indexOf(m)===0)t=t.slice(m.length);else return s()}}if(t.length>0&&Ia.test(t))return s();const p=h.map(m=>m.priority).sort((m,k)=>k-m).filter((m,k,C)=>C.indexOf(m)===k).map(m=>h.filter(k=>k.priority===m).sort((k,C)=>C.subPriority-k.subPriority)).map(m=>m[0]);let g=xe(e,n==null?void 0:n.in);if(isNaN(+g))return s();const x={};for(const m of p){if(!m.validate(g,l))return s();const k=m.set(g,x,l);Array.isArray(k)?(g=k[0],Object.assign(x,k[1])):g=k}return g}function _a(t){return t.match(Da)[1].replace(Ta,"'")}const Pa="yyyy-MM-dd",Or=(t,r)=>{try{const e=Sa(r,Pa,t),n=ir(t),s=ir(e),o=Fi(s,n);return{overdue:o<0,dueSoon:o>0&&o<=7,dueToday:o===0}}catch{return}},Br=(t,r)=>{r=r??[];const e=r.indexOf(t);return e===-1?[...r,t]:(r.splice(e,1),r)},Rr=(t,r)=>r==null||r.length==0?!0:r.every(e=>t.includes(e)),Gt={state:"active",dueSoon:!1,dueToday:!1,overdue:!1},Fa=Hn(({todos:t,searchText:r,onFiltered:e,initialFilters:n},s)=>{const[o,a]=H(n??Gt);Wn(s,()=>({clearFilters:()=>a(Gt)}));const i=Ge(()=>{const u=new Set;return t.forEach(d=>{d.projects.forEach(p=>u.add(p))}),Array.from(u)},[t]),c=Ge(()=>{const u=new Set;return t.forEach(d=>{d.contexts.forEach(p=>u.add(p))}),Array.from(u)},[t]),l=Ge(()=>{const u=new Date;return t.map(g=>Or(u,g.metadata.due??"")).reduce((g,x)=>(x==null||(g.overdue+=x.overdue?1:0,g.dueSoon+=x.dueSoon?1:0,g.dueToday+=x.dueToday?1:0),g),{overdue:0,dueSoon:0,dueToday:0})},[t]),h=Ge(()=>{let u=t,d;r!=""&&(d=new Se(t,{keys:["raw"],shouldSort:!0}),u=d.search(r).map(g=>g.item));const p=new Date;return u.filter(g=>{if(o.state==="active"&&g.completed||o.state==="completed"&&!g.completed||!Rr(g.projects,o.projects)||!Rr(g.contexts,o.contexts))return!1;if(o.overdue||o.dueSoon||o.dueToday){const x=Or(p,g.metadata.due);if(x==null||o.overdue&&!x.overdue||o.dueSoon&&!x.dueSoon||o.dueToday&&!x.dueToday)return!1}return!0})},[t,r,o]);return Re(()=>{e(h,o)},[h,e,o]),console.log(o),f(zr,{children:[f(Ke,{children:[f(Ue,{children:"State"}),f(le,{active:o.state==="active",onClick:()=>{a(u=>({...u,state:u.state==="active"?void 0:"active"}))},children:["Active",f(de,{children:t.filter(u=>!u.completed).length})]}),f(le,{active:o.state==="completed",onClick:()=>{a(u=>({...u,state:u.state==="completed"?void 0:"completed"}))},children:["Completed",f(de,{children:t.filter(u=>u.completed).length})]}),f(le,{active:o.state==null,onClick:()=>{a(u=>{const d={...u};return d.state=void 0,d})},children:["All Tasks",f(de,{children:t.length})]})]}),(l.overdue>0||l.dueSoon>0||l.dueToday>0)&&f(Ke,{children:[f(Ue,{children:"Due"}),l.overdue>0&&f(le,{active:o.overdue===!0,onClick:()=>{a(u=>{const d={...u,overdue:!u.overdue};return d.overdue&&(d.dueSoon=!1,d.dueToday=!1),d})},children:["Overdue",f(de,{children:l.overdue})]}),l.dueToday>0&&f(le,{active:o.dueToday===!0,onClick:()=>{a(u=>{const d={...u,dueToday:!u.dueToday};return d.dueToday&&(d.overdue=!1,d.dueSoon=!1),d})},children:["Due Today",f(de,{children:l.dueToday})]}),l.dueSoon>0&&f(le,{active:o.dueSoon===!0,onClick:()=>{a(u=>{const d={...u,dueSoon:!u.dueSoon};return d.dueSoon&&(d.overdue=!1,d.dueToday=!1),d})},children:["Due Soon",f(de,{children:l.dueSoon})]})]}),i.length>0&&f(Ke,{children:[f(Ue,{children:"Projects"}),i.map(u=>{var d;return f(le,{active:(d=o.projects)==null?void 0:d.includes(u),onClick:()=>{console.log("ayo???",u),a(p=>({...p,projects:Br(u,p.projects)}))},children:["+",u,f(de,{children:t.filter(p=>p.projects.includes(u)).length})]},u)})]}),c.length>0&&f(Ke,{children:[f(Ue,{children:"Contexts"}),c.map(u=>{var d;return f(le,{active:(d=o.contexts)==null?void 0:d.includes(u),onClick:()=>{a(p=>(p.contexts=Br(u,p.contexts),p))},children:["@",u,f(de,{children:t.filter(p=>p.contexts.includes(u)).length})]},u)})]})]})}),Oa=Xs`
  * {
    box-sizing: border-box;
  }
`,Ba=({fileContents:t,onFileChanged:r,editingDisabled:e,isMobile:n,initialFilters:s,onFiltered:o})=>{const[a,i]=H(n||window.innerWidth>768),[c,l]=H(Vs(t)),[h,u]=H(!1),[d,p]=H(null),[g,x]=H(""),[_,S]=H(c),T=Gn(null);Re(()=>{r(ro(c))},[r,c]);const I=()=>{window.innerWidth<=768&&i(!1)};Re(()=>{if(n)return;const D=()=>{i(window.innerWidth>768)};return window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}},[n]);const m=(D,y)=>{if(y!=null){const A=[...c];A[y]=D,l(A)}else{const A=[D,...c];l(A)}u(!1)},k=()=>{p(null),u(!1)},C=D=>{const y=[...c],A=c.findIndex(Y=>Y===_[D]);if(A!==-1){const Y={...y[A]};Y.completed=!Y.completed,Y.completed?Y.completionDate=new Date:Y.completionDate=void 0,Y.raw=Zt(Y),y[A]=Y,l(y)}},b=()=>{p(null),u(!0)},B=D=>{const y=c.findIndex(A=>A===_[D]);y!==-1&&(p(y),u(!0))},$=D=>{const y=c.findIndex(A=>A===_[D]);if(y!==-1){const A=[...c];A.splice(y,1),l(A)}},K=D=>D?D.toISOString().split("T")[0]:"";return f(zr,{children:[f(Oa,{}),f(no,{children:[f(lo,{isOpen:a,children:f(ho,{children:f(Fa,{todos:c,onFiltered:(D,y)=>{S(D),o(y)},searchText:g,initialFilters:s,ref:T})})}),f(io,{isOpen:a&&window.innerWidth<=768,onClick:I}),f(oo,{children:[f(Ao,{children:[f(Co,{onClick:()=>{i(!a)},children:f(ao,{})}),f(qo,{value:g,onChange:x}),!e&&f(Eo,{onClick:b,children:f("span",{children:"+ Add Task"})})]}),f(fo,{children:_.length===0?f(Do,{children:[f(To,{children:""}),f(Io,{children:"No tasks match your current filters"}),f(gt,{onClick:()=>{var D;(D=T.current)==null||D.clearFilters(),x("")},children:"Clear filters"})]}):_.map((D,y)=>f(po,{completed:D.completed,children:[!e&&f(go,{type:"checkbox",checked:D.completed,onChange:()=>{C(y)}}),f(mo,{children:[f(yo,{completed:D.completed,children:D.description}),f(wo,{children:[D.priority&&f(xo,{priority:D.priority,children:["Priority ",D.priority]}),D.completionDate&&f(kr,{children:["Completed: ",K(D.completionDate)]}),D.projects.map(A=>f(bo,{children:["+",A]},A)),D.contexts.map(A=>f(vo,{children:["@",A]},A)),Object.entries(D.metadata).map(([A,Y])=>f(ko,{children:[A,":",Y]},A)),D.creationDate&&f(kr,{children:["Created: ",K(D.creationDate)]})]})]}),!e&&f(Lo,{children:[f(Dr,{color:"warning",onClick:()=>{B(y)},children:f(uo,{})}),f(Dr,{color:"danger",onClick:()=>{$(y)},children:f(co,{})})]})]},y))})]})]}),h&&f(Qo,{onSave:m,onCancel:k,editContext:d!=null?{index:d,item:c[d]}:void 0})]})},Ra=()=>{var s;const[t,r]=H(ne.text),[e,n]=H(((s=ne.meta)==null?void 0:s.lastUsedFilters)??Gt);return Re(()=>{ne.text=t},[t]),Re(()=>{ne.meta={...ne.meta??{},lastUsedFilters:e}},[e]),f(Ba,{fileContents:t,onFileChanged:r,editingDisabled:ne.locked,isMobile:ne.isRunningInMobileApplication,initialFilters:e,onFiltered:n})},Na=Qn(document.getElementById("root")),$a=()=>{Na.render(f(ee.StrictMode,{children:f(Ra,{})}))};ne.initialize({debounceSave:400});ne.subscribe(()=>{$a()});
